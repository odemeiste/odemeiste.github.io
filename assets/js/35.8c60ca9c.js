(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{474:function(a,e,t){"use strict";t.r(e);var r=t(62),n=Object(r.a)({},(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"_3-temel-prensipler"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-temel-prensipler"}},[a._v("#")]),a._v(" 3. Temel Prensipler ")]),a._v(" "),t("p",[a._v("Bu bölümde Ödeme İste Servisleri için tanımlanan temel prensipler açıklanmaktadır.")]),a._v(" "),t("h2",{attrs:{id:"_3-1-genel-ilkeler"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-genel-ilkeler"}},[a._v("#")]),a._v(" 3.1 Genel İlkeler")]),a._v(" "),t("ul",[t("li",[a._v("Ödeme İste Sistemi, BKM tarafından işletilecektir.")]),a._v(" "),t("li",[a._v("7x24 esasına göre çalışacaktır.")]),a._v(" "),t("li",[a._v("FAST Sistemi katılımcıları katılabilir. Ancak, FAST Sistemine katılımları TCMB nezdinde onaylanmış katılımcı adayları da Ödeme İste Sistemine katılım sağlamak üzere hazırlıklara başlayabilir.")]),a._v(" "),t("li",[a._v("Öİ sonrası gerçekleşen ödeme işlemleri gerçekleştiği ödeme sisteminin kurallarına tabidir.")]),a._v(" "),t("li",[a._v("Bir ÖHS hem Alacaklı hem de Borçlu katılımcı olarak hizmet vermek zorundadır.")]),a._v(" "),t("li",[a._v("Alacaklı ÖHS’lerin, kullanım modellerinden asgari “Sonra Kabul Hemen Öde” modelini Alacaklı’ya sunması zorunlu iken, Borçlu ÖHS için tüm modelleri desteklemesi zorunludur. Diğer taraftan, Alacaklı ve Borçlu katılımcıların tüm modelleri ve fonksiyonları teknik olarak desteklemesi gerekmektedir.")]),a._v(" "),t("li",[a._v("Sürüm güncellemelerinde API desenine eklenen yeni alanların tüm katılımcılar tarafından desteklenmesi zorunludur.")]),a._v(" "),t("li",[a._v("Sistemdeki Öİ işlemleri arşivlenecektir.")]),a._v(" "),t("li",[a._v("Öİ akışları, Havale veya FAST Sistemi ödemeleri için kullanılabilecektir.FAST sistemi üzerinden yapılacak ödemeler için FAST limitleri geçerli olacaktır. FAST ve Havale için sadece TL transfer gerçekleştirilebilir.")]),a._v(" "),t("li",[a._v("Öİ ile gerçekleştirilecek işyeri ödemeleri, FAST İşyeri Ödemeleri kapsamında değerlendirilecek olup, üye işyeri ve takas komisyonu ile ilgili kurallar uygulanacaktır.")]),a._v(" "),t("li",[a._v("Alacaklı ve Borçlu’nun aynı ÖHS nezdindeki hesapları arasındaki (İng. “onus”) Öİ ve akabindeki ödeme (Havale) akışları farklılaşabilecek olsa da (örneğin; Ödeme İste ve FAST Sistemi mesaj yapıları yerine banka içi mesaj yapıları kullanılacaktır) bu belge kapsamındaki kurallar (doğrulama kuralları, kullanım modelleri, hizmet seviyeleri vb.) gözetilerek uygulanmalıdır.")]),a._v(" "),t("li",[a._v("Öİ’nin başlatılabilmesi için gereken Borçlu bilgileri, Borçlu tarafından hesap bilgisi (Ad Soyad, IBAN) olarak paylaşılabileceği gibi TR Karekod veya Kolay Adres şeklinde de paylaşılabilir.")]),a._v(" "),t("li",[a._v("Öİ akışlarında kullanılan ilgili bilgilerin Borçlu ÖHS tarafından ödeme işleminin gerçekleştirileceği ödeme sistemine taşınması gerekmektedir.")]),a._v(" "),t("li",[a._v("Katılımcılar, Müşterilerinden gelen ve Müşterilerine gitmesi gereken talep ve sonuçlara ilişkin anlık olarak bildirim yapmalıdır.Anlık bildirimler ÖHS tarafından iletilecek SMS ya da push notifikasyon olabilir. Müşterinin iletişim tercihi birincil iletişim kanalı olmak üzere en azından SMS ile bilgilendirme yapılması beklenmektedir.")]),a._v(" "),t("li",[a._v("Alacaklı ÖHS olarak borçlu ÖHS'den kabul ya da red durum değişikliği bildirimi geldiğinde Alacaklı ÖHS'nin müşterisini bilgilendirmesi zorunludur.")]),a._v(" "),t("li",[a._v("Müşterilerin Borçlu olarak Öİ almama hakları bulunmakta olup, bu yönde tercihi bulunan Müşterilere Öİ sunulmaz. (Söz konusu tercihin güncellenebileceği araç/arayüzler müşterilere sunulmalıdır)")]),a._v(" "),t("li",[a._v("Ödeme İste katman servisinin müşterilere sunulması için mobil kanalın kullanılması zorunlu olup diğer kanalların kullanımı ödeme hizmeti sağlayıcılarının tercihine bırakılmıştır. Mobil uygulama yüklü olmayan müşterilerde davet isteği göndermek ÖHS inisiyatifindedir.")]),a._v(" "),t("li",[a._v("Müşterilerin Öİ’ye karşılık verdikleri yanıtın içeriği, onların yasal yükümlülüklerini değiştirmez. Örneğin, fatura ödemesine ilişkin bir Öİ talebi alan Borçlu’nun olumsuz yanıt vermesi, onun faturayı ödeme yükümlülüğünü ortadan kaldırmaz.")]),a._v(" "),t("li",[a._v("TR Karekod ile başlatılan ödeme iste akışlarının, FAST TR Karekod Teknik İlke ve Kurallar Rehberi’nde belirlenen zorunlu üretime geçiş tarihleri gözetilerek desteklenmesi gerekmektedir.")]),a._v(" "),t("li",[a._v("Alacaklı ÖHS alacaklı müşteriden Öİ talebini aldığı sırada kendi tarafındaki güvenlik süreçlerini işletmesi ve Öİ talebini Borçlu ÖHS’ye iletmeden işlemi sonlandırması tavsiye edilmektedir.")]),a._v(" "),t("li",[a._v("ÖHS’lerin sunuyor oldukları servisleri en fazla 3000 ms içinde yanıt dönecek şekilde tasarlamalıdır.")]),a._v(" "),t("li",[a._v("ÖHS'ler mevcut online işlem kanallarından sundukları erişilebilirlik ve performans kriterlerinden daha düşük bir hizmet kalitesi sunmamalıdır.")]),a._v(" "),t("li",[a._v("Ödeme İste kanal veya yetki tanımı varsayılan değerinin Açık ya da Kapalı olarak sunulması ÖHS inisiyatifindedir.\n"),t("br"),a._v(" - Kanal veya yetki tanımı varsayılan değerinin AÇIK olması önkoşulu olarak Müşteri’nin mobil bankacılık (çevrimiçi) kanalının açık olması beklenmektedir. Ek olarak, Borçlu müşteriye ilk Ödeme İste talebi geldiğinde Borçlu ÖHS tarafından Ödeme İste kanal/yetki tanımının kapatılabilmesi seçeneği sunulmalıdır.\n"),t("br"),a._v(" -  Kanal veya yetki tanımı varsayılan değerinin KAPALI tanımlanması durumunda, Borçlu müşteriye ilk Ödeme İste talebi geldiğinde işlem reddedilecek(Alacaklı ÖHS’ye TR.OIS.Business.RestrictedAccount hata kodu ile dönülecek) ancak, Borçlu ÖHS tarafından müşteriye kendisine bir Ödeme İste talebi geldiği bilgisi verilmeli ve kanal/yetki açabilme seçeneği sunulmalıdır.")]),a._v(" "),t("li",[a._v("Kanal bilgisi açık olup sonradan kapalı hale getirilen borçlu müşteride mevcutta ödenmemiş ve iptal edilmemiş Öİ taleplerinin yaşam döngüsü devam ettirilmelidir.")]),a._v(" "),t("li",[a._v("Ödeme İste Hizmeti'nin Alacaklı ve Borçlu akışları için müşteri tipleri özelinde destekleme bilgisi aşağıdaki şekildedir.")])]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",[a._v("Alacaklı ÖHS Müşteri Tipi")]),a._v(" "),t("th",[a._v("Alacaklı ÖHS Desteği(İsteğe Bağlı/Zorunlu)")]),a._v(" "),t("th",[a._v("Borçlu ÖHS Müşteri Tipi")]),a._v(" "),t("th",[a._v("Borçlu ÖHS Desteği(İsteğe Bağlı/Zorunlu)")]),a._v(" "),t("th",[a._v("Borçlu ÖHS Aksiyon")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("Kurumsal")]),a._v(" "),t("td",[a._v("İ")]),a._v(" "),t("td",[a._v("Kurumsal")]),a._v(" "),t("td",[a._v("İ")]),a._v(" "),t("td",[a._v("Kurumsal müşteri desteği verilmediği durumda hata kodu üretilecektir.")])]),a._v(" "),t("tr",[t("td",[a._v("Kurumsal")]),a._v(" "),t("td",[a._v("İ")]),a._v(" "),t("td",[a._v("Bireysel")]),a._v(" "),t("td",[a._v("Z")]),a._v(" "),t("td",[a._v("-")])]),a._v(" "),t("tr",[t("td",[a._v("Bireysel")]),a._v(" "),t("td",[a._v("Z")]),a._v(" "),t("td",[a._v("Kurumsal")]),a._v(" "),t("td",[a._v("İ")]),a._v(" "),t("td",[a._v("Kurumsal müşteri desteği verilmediği durumda hata kodu üretilecektir.")])]),a._v(" "),t("tr",[t("td",[a._v("Bireysel")]),a._v(" "),t("td",[a._v("Z")]),a._v(" "),t("td",[a._v("Bireysel")]),a._v(" "),t("td",[a._v("Z")]),a._v(" "),t("td",[a._v("-")])])])]),a._v(" "),t("p",[t("strong",[a._v('"İsteğe bağlı" olan alanların "zorunlu" olacağı son tarih 21 Temmuz 2024 olarak belirlenmiştir.')])]),a._v(" "),t("h2",{attrs:{id:"_3-2-restful-api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-restful-api"}},[a._v("#")]),a._v(" 3.2 RESTful API")]),a._v(" "),t("p",[a._v("API’ler, dünya ölçeğinde yaygın bir şekilde kullanılan Temsili Durum Transferi (Representational State Transfer, REST) mimari tarzı ve JavaScript Nesne Notasyonu (JavaScript Object Notation, JSON) veri formatlarına uygun olarak geliştirilir. En üst seviye Veri Tanımlama Dili (Data Description Language) ve en iyi uygulama örnekleri için "),t("a",{attrs:{href:"http://json-schema.org/",target:"_blank",rel:"noopener noreferrer"}},[a._v("^JSON Şeması"),t("OutboundLink")],1),a._v(" temel alınır.")]),a._v(" "),t("p",[a._v("İstek ve yanıt mesajlarında, isteğe bağlı veya koşullu bir alan, değer içermiyorsa, bu alan JSON payloadunda yer almamalıdır.")]),a._v(" "),t("p",[a._v("Örnek kod bloğu.")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('"alacakliBilgi":{\n         "musteriTipi":"B",\n         "ohsKod":"8000",\n         "kimlik":  {\n             "kimlikTipi": "K",\n             "kimlikDegeri": "12345678900"\n        },\n        "hesap":    {\n            "hesapNo": "TR800800G2BGNZ90MXSE96SW2",\n            "hesapSahibi": "AHMET YILMAZ"\n      }\n      },\n')])])]),t("h2",{attrs:{id:"_3-3-surum-yonetimi"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-surum-yonetimi"}},[a._v("#")]),a._v(" 3.3.\tSürüm Yönetimi")]),a._v(" "),t("p",[a._v("API sonraki aşamalarda doğabilecek gereksinimleri ve daha karmaşık kullanım durumlarını karşılamak için sürümler halinde geliştirilir ve bu durum tasarım sırasında göz önünde bulundurulur.")]),a._v(" "),t("p",[a._v("Öİ API İlke ve Kuralları v1.0 sürümünde ;")]),a._v(" "),t("ul",[t("li",[a._v("Sonra Kabul/Hemen Öde modeli olacaktır.")])]),a._v(" "),t("p",[a._v("Öİ API İlke ve Kuralları v2.0 sürümünde ;")]),a._v(" "),t("ul",[t("li",[a._v("Sonra Kabul/Hemen Öde, Sonra Kabul/Sonra Öde, Şimdi Kabul/Hemen Öde modelleri ve ek fonksiyonlar yer almaktadır.")])]),a._v(" "),t("h4",[a._v("Öİ Oluşturma API’si 1 Ay desteklenmeye devam etmelidir. Öİ Yanıt API’si ise 4 Ay desteklenmeye devam etmelidir.")]),a._v(" "),t("p",[t("strong",[a._v("S2.0’a geçiş yapıldığında S1.0’da oluşturulan ödeme iste talepleri sürecine devam ettirilmelidir. Bunun sağlanabilmesi için;")])]),a._v(" "),t("ul",[t("li",[a._v("Ödeme iste taleplerinin versiyon bilgisi tutulmalı ve mevcut ödeme iste talepleri için varsayılan S1.0 olarak güncellenmelidir.")]),a._v(" "),t("li",[a._v("API desenine yeni eklenen alanlar mevcut ödeme iste nesnelerine varsayılan değerler güncellenmelidir. erkenOdeme = E, odemeErteleme = H ve kismiOdeme = H olmalıdır.")])]),a._v(" "),t("p",[t("strong",[a._v("S2.0’a geçiş yapıldığında S1.0 endpointleri belirtilecek tarihe kadar kapatılmamalıdır. İki sürüm desteği de sağlanmalıdır.")])]),a._v(" "),t("ul",[t("li",[a._v("Versiyon bilgisine göre ödeme iste talebi yanıtlanmalıdır. S1.0‘da oluşturulan ödeme iste talebi S1.0 yanıt API’si ile yanıtlanmalıdır. S2.0’da oluşturulan ödeme iste talebi ise sadece S2.0 PUT yanıt API’si ile yanıtlanmalıdır.")]),a._v(" "),t("li",[a._v("Versiyon bilgisine göre ödeme iste talebi sorgulanmalıdır. S1.0‘da oluşturulan ödeme iste talebi S1.0 API’si ile sorgulanmalıdır. S2.0’da oluşturulan ödeme iste talebi ise sadece S2.0 GET sorgulama API’si ile yanıtlanmalıdır.")]),a._v(" "),t("li",[a._v("Versiyon bilgisine göre ödeme iste talebi iptal edilmelidir. S1.0‘da oluşturulan ödeme iste talebi S1.0 iptal API’si ile iptal edilmelidir. S2.0’da oluşturulan ödeme iste talebi ise sadece S2.0 PUT iptal API’si ile iptal edilmelidir.")]),a._v(" "),t("li",[a._v("Alacaklı ÖHS S2.0 geçti ise ekranlarında borçlu IBAN bilgisini çözümledikten sonra Borçlu ÖHS’nin S2.0’ı desteklediğini kontrol etmelidir. Desteklemiyor ise ödeme İste talebi S1.0'da oluşturulur. Destekliyor ise ödeme İste talebi S2.0'da oluşturulur.")]),a._v(" "),t("li",[a._v("S1.0 endpointlerinde oluşturulan ödeme iste taleplerinde yeni eklenen alanlar varsayılan değerleriyle kayıt edilmelidir. Ödeme iste sürüm bilgisi S1.0 olacak şekilde kayıt edilmelidir.")]),a._v(" "),t("li",[a._v("S1.0 endpointlerinde oluşturulan ödeme iste taleplerinde yeni eklenen alanlar varsayılan değerleriyle kayıt edilmelidir. Ödeme iste sürüm bilgisi S1.0 olacak şekilde kayıt edilmelidir.")])]),a._v(" "),t("br"),a._v(" "),t("ul",[t("li",[a._v("Sürüm 1.0’da oluşturulan ödeme iste talebi S2.0’da sorgulama/iptal/yanıt API’si ile çağırıldığında "),t("strong",[a._v("“TR.OIS.Resource.APIVersionNotSupported”")]),a._v("  hata verilmelidir.")]),a._v(" "),t("li",[a._v("Sürüm 2.0’da oluşturulan ödeme iste talebi S1.0’da sorgulama/iptal/yanıt API’si ile çağırıldığında "),t("strong",[a._v("“TR.OIS.Resource.APIVersionNotSupported”")]),a._v(" hatası verilmelidir.")])]),a._v(" "),t("table",[t("thead",[t("tr",[t("th"),a._v(" "),t("th",[t("strong",[a._v("Sadece S1.0 Destekleyen Borçlu ÖHS'ler")])]),a._v(" "),t("th",[t("strong",[a._v("S1.0 ve S2.0 Destekleyen Borçlu ÖHS'ler")])])])]),a._v(" "),t("tbody",[t("tr",[t("td",[t("strong",[a._v("Sadece S1.0 Destekleyen Alacaklı ÖHS'ler")])]),a._v(" "),t("td",[a._v("Alacaklı ÖHS; "),t("br"),a._v(" -Ödeme İste talebi S1.0'da oluşturmalıdır. "),t("br"),t("br"),a._v("Borçlu ÖHS; "),t("br"),a._v("-Ödeme iste talebine S1.0'da başarılı yanıt dönmelidir."),t("br"),a._v("-Yanıt API'si S1.0 ile çağırılmalıdır.")]),a._v(" "),t("td",[a._v("Alacaklı ÖHS;"),t("br"),a._v("-Ödeme İste talebi S1.0'da oluşturulur."),t("br"),t("br"),a._v("Borçlu ÖHS;"),t("br"),a._v("-S1.0 endpointlerini kapatmamalıdır. İki sürüm desteği de sağlanmalıdır."),t("br"),a._v("-API desenine yeni eklenen alanların varsayılan değerleri ile kayıt edilmelidir. erkenOdeme=E, odemeErteleme=H ve kismiOdeme=H olmalıdır."),t("br"),a._v("-Ödeme iste oluştur S1.0 başarılı yanıt dönmelidir."),t("br"),a._v(" -Yanıt API'si S1.0 ile çağırılmalıdır.")])]),a._v(" "),t("tr",[t("td",[t("strong",[a._v("S1.0 ve S2.0 Destekleyen Alacaklı ÖHS'ler")])]),a._v(" "),t("td",[a._v("Alacaklı ÖHS; "),t("br"),a._v("-Borçlu IBAN bilgisi çözümlenerek borçlu ÖHS versiyon bilgisi kontrol edilir. Sadece S1.0 destekleniyorsa ödemeİste talebi S1.0'da oluşturulur."),t("br"),t("br"),a._v("Borçlu ÖHS; "),t("br"),a._v("-Sürüm S1.0 oluşturulmuş ödeme iste talepleri, yanıt apisi S1.0 ile yanıtlanmalıdır.")]),a._v(" "),t("td",[a._v("Alacaklı ÖHS; "),t("br"),a._v("-Borçlu IBAN bilgisi çözümlenerek borçlu ÖHS versiyon bilgisi kontrol edilir."),t("br"),a._v("-Ödeme İste talebi S2.0'da oluşturulur."),t("br"),a._v("-S2.0 için ekran tasarımlarını çözümlenen IBAN bilgisine göre açılabilir ya da varsayılan değerler gönderilebilir."),t("br"),t("br"),a._v("Borçlu ÖHS; "),t("br"),a._v("-Ödeme iste talebine S2.0'da başarılı yanıt dönmelidir. "),t("br"),a._v("-Yanıt API'si S2.0 ile çağırılmalıdır. "),t("br"),a._v(" -Sürüm S2.0 oluşturulmuş ödeme iste talepleri, yanıt apisi S2.0 ile yanıtlanmalıdır.")])])])]),a._v(" "),t("h2",{attrs:{id:"_3-4-kaynak-uri-yol-yapısı"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-kaynak-uri-yol-yapısı"}},[a._v("#")]),a._v(" 3.4.\tKaynak URI Yol Yapısı")]),a._v(" "),t("p",[a._v("ÖHS’lerin başlattığı çağrılarda URI yolu aşağıdaki yapıyı takip eder:")]),a._v(" "),t("p",[t("strong",[a._v("[öhs-yol-ön-eki]/odeme-iste-api/[kaynak-grubu]/[sürüm]/ [kaynak]/[kaynak-no]")])]),a._v(" "),t("p",[t("strong",[a._v("[öhs-yol-ön-eki]/odeme-iste-api/ois/s1.0/odeme-iste/odemeIsteRefNo")])]),a._v(" "),t("p",[t("strong",[a._v("[öhs-yol-ön-eki]/odeme-iste-api/ois/s2.0/odeme-iste/odemeIsteRefNo")])]),a._v(" "),t("p",[a._v("Bu, aşağıdaki unsurlardan oluşur:")]),a._v(" "),t("ul",[t("li",[a._v("[öhs-yol-ön-eki]\nİsteğe bağlı, ÖHS'ye özgü yol ön ekini ifade eder.\nGEÇİT üzerinden yapılan çağrılarda BKM tarafından belirlenen sistem adı ve yol ön eki kullanılır.")]),a._v(" "),t("li",[a._v("ois, ois-api\nSabit metin “ois” (Ödeme İste Servisleri kısaltması)")]),a._v(" "),t("li",[a._v('[kaynak-grubu]\nKaynak grubu, API’ye erişmek için kullanılan ödeme iste hizmeti için erişim adresi (end point) grubunu tanımlar ("ois").')]),a._v(" "),t("li",[a._v("[sürüm]\nAPI sürümünü ifade eder (“/s[ana-sürüm].[alt-sürüm]/”).")]),a._v(" "),t("li",[a._v("[kaynak]/[kaynak-no]\nKaynak detaylarını ifade eder.")])]),a._v(" "),t("p",[a._v("ÖHS, tüm kaynakları için aynı katılımcı yolu ön ekini ve sistem adını kullanmalıdır. BKM API’lerine erişmek isteyen uygulamaların yetkilerine göre aşağıdaki API’ye abone olmaları gerekmektedir.\nOIS (Ödeme İste Servisleri) :")]),a._v(" "),t("ul",[t("li",[a._v("https://xbank.com.tr/api-portal/odeme-iste-api/ois/s1.0/odeme-iste (ÖHS)")]),a._v(" "),t("li",[a._v("https://secure.api-preprod.bkm.com.tr/odeme-iste-api/ois/s1.0/odeme-iste (BKM GEÇİT)")])]),a._v(" "),t("h2",{attrs:{id:"_3-5-karakter-kodlama"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-karakter-kodlama"}},[a._v("#")]),a._v(" 3.5.\tKarakter Kodlama")]),a._v(" "),t("p",[a._v("API istekleri ve yanıtlarının "),t("strong",[a._v("Başlık")]),a._v(" parametrelerinde ISO-8859-1 standartında yer alan karakter kümesi kullanılmalıdır.")]),a._v(" "),t("p",[a._v("API istekleri ve yanıtlarında "),t("strong",[a._v("Gövde")]),a._v(" parametrelerinde UTF-8 karakter kodlaması kullanılır. Bu, JSON için varsayılan karakter kodlamasıdır.")]),a._v(" "),t("p",[a._v("Ancak, bir ÖHS'nin kendi uygulamaları ve ödeme başlattığı ödeme sistemi (Havale vb.) bazı UTF-8 karakterlerini kabul etmeyebilir. ÖHS, UTF-8 kodlaması içeren bir mesajı işleyemez ve reddederse, HTTP 400 (Hatalı İstek) durum kodu ile yanıt vermelidir.")]),a._v(" "),t("p",[a._v("Ödeme iste talebinde borçlu ve alacaklı işlem açıklamasında işlenemeyecek karakterler var ise "),t("strong",[a._v('"TR.OIS.Business.InvalidCharacter"')]),a._v(" hatası verilir. Açıklama alanında fast sistemine taşınamayacak karakter kümesine izin verilmemelidir.")]),a._v(" "),t("p",[a._v("Gövde parametrelerinde desteklenen UTF-8 karakter kümesi aşağıda listelenmiştir.")]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",[a._v("Karakter")]),a._v(" "),t("th",[a._v("UTF 8 "),t("br"),a._v(" Hex.")]),a._v(" "),t("th",[a._v("Karakter")]),a._v(" "),t("th",[a._v("UTF 8 "),t("br"),a._v(" Hex.")]),a._v(" "),t("th",[a._v("Karakter")]),a._v(" "),t("th",[a._v("UTF 8 "),t("br"),a._v(" Hex.")]),a._v(" "),t("th",[a._v("Karakter")]),a._v(" "),t("th",[a._v("UTF 8 "),t("br"),a._v(" Hex.")])])]),a._v(" "),t("tbody",[t("tr",[t("td"),a._v(" "),t("td",[a._v("20")]),a._v(" "),t("td",[a._v("=")]),a._v(" "),t("td",[a._v("3d")]),a._v(" "),t("td",[a._v("X")]),a._v(" "),t("td",[a._v("58")]),a._v(" "),t("td",[a._v("r")]),a._v(" "),t("td",[a._v("72")])]),a._v(" "),t("tr",[t("td",[a._v("!")]),a._v(" "),t("td",[a._v("21")]),a._v(" "),t("td",[a._v("?")]),a._v(" "),t("td",[a._v("3f")]),a._v(" "),t("td",[a._v("Y")]),a._v(" "),t("td",[a._v("59")]),a._v(" "),t("td",[a._v("s")]),a._v(" "),t("td",[a._v("73")])]),a._v(" "),t("tr",[t("td",[a._v("#")]),a._v(" "),t("td",[a._v("23")]),a._v(" "),t("td",[a._v("@")]),a._v(" "),t("td",[a._v("40")]),a._v(" "),t("td",[a._v("Z")]),a._v(" "),t("td",[a._v("5a")]),a._v(" "),t("td",[a._v("t")]),a._v(" "),t("td",[a._v("74")])]),a._v(" "),t("tr",[t("td",[a._v("%")]),a._v(" "),t("td",[a._v("25")]),a._v(" "),t("td",[a._v("A")]),a._v(" "),t("td",[a._v("41")]),a._v(" "),t("td",[a._v("[")]),a._v(" "),t("td",[a._v("5b")]),a._v(" "),t("td",[a._v("u")]),a._v(" "),t("td",[a._v("75")])]),a._v(" "),t("tr",[t("td",[a._v("&")]),a._v(" "),t("td",[a._v("26")]),a._v(" "),t("td",[a._v("B")]),a._v(" "),t("td",[a._v("42")]),a._v(" "),t("td",[a._v("\\")]),a._v(" "),t("td",[a._v("5c")]),a._v(" "),t("td",[a._v("v")]),a._v(" "),t("td",[a._v("76")])]),a._v(" "),t("tr",[t("td",[a._v("'")]),a._v(" "),t("td",[a._v("27")]),a._v(" "),t("td",[a._v("C")]),a._v(" "),t("td",[a._v("43")]),a._v(" "),t("td",[a._v("]")]),a._v(" "),t("td",[a._v("5d")]),a._v(" "),t("td",[a._v("w")]),a._v(" "),t("td",[a._v("77")])]),a._v(" "),t("tr",[t("td",[a._v("(")]),a._v(" "),t("td",[a._v("28")]),a._v(" "),t("td",[a._v("D")]),a._v(" "),t("td",[a._v("44")]),a._v(" "),t("td",[a._v("^")]),a._v(" "),t("td",[a._v("5e")]),a._v(" "),t("td",[a._v("x")]),a._v(" "),t("td",[a._v("78")])]),a._v(" "),t("tr",[t("td",[a._v(")")]),a._v(" "),t("td",[a._v("29")]),a._v(" "),t("td",[a._v("E")]),a._v(" "),t("td",[a._v("45")]),a._v(" "),t("td",[a._v("_")]),a._v(" "),t("td",[a._v("5f")]),a._v(" "),t("td",[a._v("y")]),a._v(" "),t("td",[a._v("79")])]),a._v(" "),t("tr",[t("td",[a._v("*")]),a._v(" "),t("td",[a._v("2a")]),a._v(" "),t("td",[a._v("F")]),a._v(" "),t("td",[a._v("46")]),a._v(" "),t("td",[a._v("a")]),a._v(" "),t("td",[a._v("61")]),a._v(" "),t("td",[a._v("z")]),a._v(" "),t("td",[a._v("7a")])]),a._v(" "),t("tr",[t("td",[a._v("+")]),a._v(" "),t("td",[a._v("2b")]),a._v(" "),t("td",[a._v("G")]),a._v(" "),t("td",[a._v("47")]),a._v(" "),t("td",[a._v("b")]),a._v(" "),t("td",[a._v("62")]),a._v(" "),t("td",[a._v("{")]),a._v(" "),t("td",[a._v("7b")])]),a._v(" "),t("tr",[t("td",[a._v(",")]),a._v(" "),t("td",[a._v("2c")]),a._v(" "),t("td",[a._v("H")]),a._v(" "),t("td",[a._v("48")]),a._v(" "),t("td",[a._v("c")]),a._v(" "),t("td",[a._v("63")]),a._v(" "),t("td",[a._v("}")]),a._v(" "),t("td",[a._v("7d")])]),a._v(" "),t("tr",[t("td",[a._v("-")]),a._v(" "),t("td",[a._v("2d")]),a._v(" "),t("td",[a._v("I")]),a._v(" "),t("td",[a._v("49")]),a._v(" "),t("td",[a._v("d")]),a._v(" "),t("td",[a._v("64")]),a._v(" "),t("td",[a._v("Ç")]),a._v(" "),t("td",[a._v("c3 87")])]),a._v(" "),t("tr",[t("td",[a._v(".")]),a._v(" "),t("td",[a._v("2e")]),a._v(" "),t("td",[a._v("J")]),a._v(" "),t("td",[a._v("4a")]),a._v(" "),t("td",[a._v("e")]),a._v(" "),t("td",[a._v("65")]),a._v(" "),t("td",[a._v("Ö")]),a._v(" "),t("td",[a._v("c3 96")])]),a._v(" "),t("tr",[t("td",[a._v("/")]),a._v(" "),t("td",[a._v("2f")]),a._v(" "),t("td",[a._v("K")]),a._v(" "),t("td",[a._v("4b")]),a._v(" "),t("td",[a._v("f")]),a._v(" "),t("td",[a._v("66")]),a._v(" "),t("td",[a._v("Ü")]),a._v(" "),t("td",[a._v("c3 9c")])]),a._v(" "),t("tr",[t("td",[a._v("0")]),a._v(" "),t("td",[a._v("30")]),a._v(" "),t("td",[a._v("L")]),a._v(" "),t("td",[a._v("4c")]),a._v(" "),t("td",[a._v("g")]),a._v(" "),t("td",[a._v("67")]),a._v(" "),t("td",[a._v("ç")]),a._v(" "),t("td",[a._v("c3 a7")])]),a._v(" "),t("tr",[t("td",[a._v("1")]),a._v(" "),t("td",[a._v("31")]),a._v(" "),t("td",[a._v("M")]),a._v(" "),t("td",[a._v("4d")]),a._v(" "),t("td",[a._v("h")]),a._v(" "),t("td",[a._v("68")]),a._v(" "),t("td",[a._v("ö")]),a._v(" "),t("td",[a._v("c3 b6")])]),a._v(" "),t("tr",[t("td",[a._v("2")]),a._v(" "),t("td",[a._v("32")]),a._v(" "),t("td",[a._v("N")]),a._v(" "),t("td",[a._v("4e")]),a._v(" "),t("td",[a._v("i")]),a._v(" "),t("td",[a._v("69")]),a._v(" "),t("td",[a._v("ü")]),a._v(" "),t("td",[a._v("c3 bc")])]),a._v(" "),t("tr",[t("td",[a._v("3")]),a._v(" "),t("td",[a._v("33")]),a._v(" "),t("td",[a._v("O")]),a._v(" "),t("td",[a._v("4f")]),a._v(" "),t("td",[a._v("j")]),a._v(" "),t("td",[a._v("6a")]),a._v(" "),t("td",[a._v("Ğ")]),a._v(" "),t("td",[a._v("c4 9e")])]),a._v(" "),t("tr",[t("td",[a._v("4")]),a._v(" "),t("td",[a._v("34")]),a._v(" "),t("td",[a._v("P")]),a._v(" "),t("td",[a._v("50")]),a._v(" "),t("td",[a._v("k")]),a._v(" "),t("td",[a._v("6b")]),a._v(" "),t("td",[a._v("ğ")]),a._v(" "),t("td",[a._v("c4 9f")])]),a._v(" "),t("tr",[t("td",[a._v("5")]),a._v(" "),t("td",[a._v("35")]),a._v(" "),t("td",[a._v("Q")]),a._v(" "),t("td",[a._v("51")]),a._v(" "),t("td",[a._v("l")]),a._v(" "),t("td",[a._v("6c")]),a._v(" "),t("td",[a._v("İ")]),a._v(" "),t("td",[a._v("c4 b0")])]),a._v(" "),t("tr",[t("td",[a._v("6")]),a._v(" "),t("td",[a._v("36")]),a._v(" "),t("td",[a._v("R")]),a._v(" "),t("td",[a._v("52")]),a._v(" "),t("td",[a._v("m")]),a._v(" "),t("td",[a._v("6d")]),a._v(" "),t("td",[a._v("ı")]),a._v(" "),t("td",[a._v("c4 b1")])]),a._v(" "),t("tr",[t("td",[a._v("7")]),a._v(" "),t("td",[a._v("37")]),a._v(" "),t("td",[a._v("S")]),a._v(" "),t("td",[a._v("53")]),a._v(" "),t("td",[a._v("n")]),a._v(" "),t("td",[a._v("6e")]),a._v(" "),t("td",[a._v("Ş")]),a._v(" "),t("td",[a._v("c5 9e")])]),a._v(" "),t("tr",[t("td",[a._v("8")]),a._v(" "),t("td",[a._v("38")]),a._v(" "),t("td",[a._v("T")]),a._v(" "),t("td",[a._v("54")]),a._v(" "),t("td",[a._v("o")]),a._v(" "),t("td",[a._v("6f")]),a._v(" "),t("td",[a._v("ş")]),a._v(" "),t("td",[a._v("c5 9f")])]),a._v(" "),t("tr",[t("td",[a._v("9")]),a._v(" "),t("td",[a._v("39")]),a._v(" "),t("td",[a._v("U")]),a._v(" "),t("td",[a._v("55")]),a._v(" "),t("td",[a._v("p")]),a._v(" "),t("td",[a._v("70")]),a._v(" "),t("td"),a._v(" "),t("td")]),a._v(" "),t("tr",[t("td",[a._v(":")]),a._v(" "),t("td",[a._v("3a")]),a._v(" "),t("td",[a._v("V")]),a._v(" "),t("td",[a._v("56")]),a._v(" "),t("td",[a._v("q")]),a._v(" "),t("td",[a._v("71")]),a._v(" "),t("td"),a._v(" "),t("td")]),a._v(" "),t("tr",[t("td",[a._v(";")]),a._v(" "),t("td",[a._v("3b")]),a._v(" "),t("td",[a._v("W")]),a._v(" "),t("td",[a._v("57")]),a._v(" "),t("td"),a._v(" "),t("td"),a._v(" "),t("td"),a._v(" "),t("td")])])]),a._v(" "),t("p",[a._v("Bearer HTTP Authorization Şeması RFC 6750'de tanımlanmıştır. "),t("a",{attrs:{href:"https://www.rfc-editor.org/rfc/rfc6750#section-2.1",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://www.rfc-editor.org/rfc/rfc6750#section-2.1"),t("OutboundLink")],1),a._v(" bölümünde izin verilen karakterlerin gönderilmesi beklenmektedir. Buradaki standartın her 3 parametre için de uygulanmasına karar verilmiştir.")]),a._v(" "),t("p",[a._v('RFC 6750 içerisinde bearer token formatı şu şekildedir : 1*( ALPHA / DIGIT / "-" / "." / "_" / "~" / "+" / "/" ) *"="'),t("br"),a._v('\nAugmented BNF for Syntax Specifications (ABNF) ile ifade edilen bu formatta token en az 1 adet alfanumerik karakter veya özel karakter ("-", "." , "_" , "~" , "+" , "/")  içermeli ve 0 ya da daha çok sayıda "=" karakteri ile bitmelidir.')]),a._v(" "),t("p",[a._v("ALPHA = A-Z / a-z aralığındaki harflerdir."),t("br"),a._v("\nDIGIT = 0-9 aralığındaki rakamlardır.")]),a._v(" "),t("h2",{attrs:{id:"_3-6-veri-formatı"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-veri-formatı"}},[a._v("#")]),a._v(" 3.6.\tVeri Formatı")]),a._v(" "),t("ul",[t("li",[a._v('Ödeme İste kapsamındaki zaman damgası, ISO 8601 standartına uygun olarak yerel saat bilgisini ve timezone bilgisini de içerecek şekilde " yyyy-MM-dd’T’HH:mm:ssXXX " formattaki haliyle hazırlanmalıdır.')])]),a._v(" "),t("p",[a._v('Örnek:  "timestamp": "2021-05-30T20:34:15+03:00"'),t("br"),a._v("\nyyyy : 4 hane yıl"),t("br"),a._v("\nMM : Başa ‘0’ eklenmiş, toplam 2 hane ay"),t("br"),a._v("\ndd    : Başa ‘0’ eklenmiş, toplam 2 hane gün"),t("br"),a._v("\nHH    : Başa ‘0’ eklenmiş, toplam 2 hane saat (0-23 arası değer alabilir.)"),t("br"),a._v("\nmm : Başa ‘0’ eklenmiş, toplam 2 hane dakika"),t("br"),a._v("\nss    : Başa ‘0’ eklenmiş, toplam 2 hane saniye"),t("br"),a._v("\nXXX : ISO 8601 Time zone")]),a._v(" "),t("ul",[t("li",[a._v("Zaman damgası hesaplamalarında, yeni günün başlangıç saatinin 00:00:00 olduğu kabul edilmiştir.")]),a._v(" "),t("li",[a._v("JWT veri paketlerinde kullanılan zaman damgaları, 1 Ocak 1970 Saat 00:00:00 (UTC) anından itibaren geçen saniye sayısı değerini (Unix Time) kullanmalıdır.")]),a._v(" "),t("li",[a._v("Bir ÖHS, tarihi yanlış biçimlendirilmiş bir istek aldığında, 400 (Hatalı İstek) durum kodu ve ilgili hata kodu ile yanıt vermelidir.")]),a._v(" "),t("li",[a._v("ISO 4217 Standartında para birimleri ve kaç basamak ondalık değer içerebilecekleri belirlenmiştir.\n"),t("a",{attrs:{href:"https://www.iso.org/iso-4217-currency-codes.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("https://www.iso.org/iso-4217-currency-codes.html"),t("OutboundLink")],1),a._v(' adresinden ücretsiz olarak listeye erişilebilir.\nAPI Standartlarında da para birimleri ISO 4217’de tanımlanmış olan 3 harfli kodlarla iletilir.\nÖrneğin; Ödeme İste API\'sindeki "Tutar" alanı "100.25" ve "Para Birimi" alanı "TRY" olarak iletildiğinde 25 değerinin kuruş olduğu anlaşılmalıdır. TRY işlemler için 2 basamak kuruş gönderilmesi gerekmektedir. Tutar alanı regex patterni şu şekildedir: \'^\\d{1,18}$|^\\d{1,18}.\\d{1,5}$\'')]),a._v(" "),t("li",[a._v("Sıralı veri tipleri büyük küçük harfe duyarlı olmalıdır.")])]),a._v(" "),t("h2",{attrs:{id:"_3-7-istemci-sertifika-yonetimi"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-7-istemci-sertifika-yonetimi"}},[a._v("#")]),a._v(" 3.7.\tİstemci Sertifika Yönetimi")]),a._v(" "),t("p",[a._v("Öİ kapsamında ÖHS’lerin güvenli bir şekilde tanımlanması amacıyla elektronik sertifikalar kullanılır.")]),a._v(" "),t("p",[a._v("Öİ kapsamında tarafların güvenli bir şekilde tanımlaması, uçtan uca güvenli iletişim, mesaj şifreleme ve mesaj imzalama işlevleri 15/1/2004 tarihli ve 5070 sayılı Elektronik İmza Kanunu’nda açıklanan elektronik sertifikalar kullanılarak sağlanır. Elektronik sertifikada Türkiye Cumhuriyet Merkez Bankası tarafından verilen kuruluş kodu ve kuruluşun türüne dair bilgiler bulunur.")]),a._v(" "),t("p",[a._v("Tüm katılımcıların GEÇİT'e erişebilmesi için, BKM tarafından yapılan istemci sertifika doğrulamasından geçmesi gerekmektedir. İstemci sertifikası üretilmeden önce katılımcıların CSR üretme akışını tamamlaması gerekmektedir.")]),a._v(" "),t("p",[t("strong",[a._v("OpenSSL ile CSR (Certificate Signing Request) Oluşturma")])]),a._v(" "),t("p",[a._v("Aşağıdaki komut ile 2048-bit RSA private key ve CSR oluşturulur.\nopenssl req -new -newkey rsa:2048 -nodes -keyout PRIVATEKEY.key -out CSR.csr\nCSR ile ilgili detay bilgilerin girişinde;\nCommon Name (CN) olarak 4 karakterli ÖHS Kod(üye kodu) diğer alanlar için de kurum bilgileriniz ile giriş yapılır.")]),a._v(" "),t("p",[a._v("Tüm bilgilerin girilmesinden sonra oluşan private key dosyası kurumunuzda saklanır. CSR dosyası ise istemci sertifika üretmek üzere kullanılır. Bu aşamada takip edilmesi gereken adımlar şu şekildedir:")]),a._v(" "),t("p",[a._v('Katılımcıların, TRIP ortamı üzerinden, BKM Tarafından yetki verilmiş kullanıcılarının görebileceği "İstemci Sertifika Talebi" menü adımına giriş yapmaları beklenir. Açılan ekranda,"CSR Dosyası Yükleme" alanı içerisine, katılımcının üretmiş olduğu csr dosyası yüklenir. Yaklaşık 1 dakika içerisinde kuruma özel olarak üretilmiş olan client sertifikası indirilmeye hazır hale gelecektir. "İndir" butonu ile client sertifika indirilir. İstemci tarafında web isteğinin ilgili sertifika ile ilişkilendirilerek oluşturulması gerekmektedir. İstemci sertifikaları hem test hem de üretim ortamı için ayrı ayrı oluşturulup kullanılacaktır.')]),a._v(" "),t("h2",{attrs:{id:"_3-8-sunucu-sertifikaları"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-8-sunucu-sertifikaları"}},[a._v("#")]),a._v(" 3.8.\tSunucu Sertifikaları")]),a._v(" "),t("p",[a._v("Sunucu sertifikalarının endpoint bilgisini (Fqdn) içerecek ve global bir Certification Authority tarafından imzalanmış olarak sunulması gerekmektedir. Örneğin; entegrasyon formu içerinde yer alan URL bilgisinin (test.xbank.com.tr) sertifika içerisinde tanımlı olması ve bu sertifikanın global bir CA örneğin Verisign tarafından imzalanmış olarak sunulması gerekmektedir.\nÖHS'ler tarafından sunucu sertifikaları uygulanmalıdır.")]),a._v(" "),t("h2",{attrs:{id:"_3-9-istek-cevap-mesajlarında-kullanılan-nesne-yapıları"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-9-istek-cevap-mesajlarında-kullanılan-nesne-yapıları"}},[a._v("#")]),a._v(" 3.9. İstek/Cevap Mesajlarında Kullanılan Nesne Yapıları")]),a._v(" "),t("p",[a._v("İstek ve Cevap mesajlarında kullanılacak olan nesneler tüm elemanlarını kapsayacak şekilde Ödeme İste Swagger dosyasında detaylı olarak paylaşılmıştır.")]),a._v(" "),t("h2",{attrs:{id:"_3-10-mesaj-imzalama"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-10-mesaj-imzalama"}},[a._v("#")]),a._v(" 3.10. Mesaj İmzalama")]),a._v(" "),t("p",[a._v("Dijital imzalama yapısı, Ödeme İste API’de gerçekleştirilen işlemlerin ve taşınan verilerin bütünlük ve inkâr edilemezliğini sağlamak amacıyla kurgulanmıştır. İmzaların kaynak bazında hangi istek ve yanıtlara uygulandığı belirlidir.")]),a._v(" "),t("p",[a._v("API yalnızca TLS'ye dayanırsa, dijital kayıtları ve inkâr edilemezlik kanıtlarını tutmak zor olur. Bu nedenle, TLS'ye dayanmayan bir inkâr edilemezlik çözümü olarak API isteğinin HTTP başlığında bir JWS kullanılarak sağlanabilir.")]),a._v(" "),t("p",[a._v("HTTP isteğinin gövdesinin hash fonksiyonu (SHA256) ile özeti alınacaktır. Elde edilen özet, asimetrik anahtarları destekleyen bir algoritma kullanılarak imzalanacak ve JWS elde edilecektir. İsteğin kendinize geldiği durumda body üzerinde hiç bir değişikliğe tabi tutmadan (serialize/deserialize, minify, trim, vb yapmadan) doğrulama yapmanız gerekmektedir. Aynı şekilde isteğin kendinizden çıktığı aşamada da response body üzerinde hiç bir değişikliğe tabi tutmadan (serialize/deserialize, minify, trim, vb yapmadan) mesaj imzalama yapılmalıdır.")]),a._v(" "),t("p",[a._v("Bu kapsamda imzalama akışı aşağıdaki gibi olmalıdır:")]),a._v(" "),t("ul",[t("li",[a._v("ÖHS öncelikle özel ve açık anahtarlarını oluşturmalıdır. Bu anahtarları oluşturmak için aşağıda “openssl” kullanılarak oluşturma örneği paylaşılmıştır. Bu anahtarlardan özel olan anahtar mesajı imzalamak için kullanılacak olup, açık anahtar ise mesajı doğrulamak amacıyla mesajın alıcısı tarafından kullanılacaktır.")])]),a._v(" "),t("p",[a._v("Özel anahtarın oluşturulması. private.pem => Özel anahtar "),t("br"),a._v(" "),t("strong",[t("code",[a._v("openssl genrsa -out private.pem 2048")])]),t("br"),t("br")]),a._v(" "),t("p",[a._v("Özel anahtardan açık anahtarın oluşturulması. public_key.pem => Açık anahtar (BKM ile paylaşılacak açık anahtar)"),t("br"),a._v(" "),t("strong",[t("code",[a._v("openssl rsa -in private.pem -pubout -outform PEM -out public_key.pem")])]),t("br"),t("br")]),a._v(" "),t("p",[a._v("Opsiyonel olarak özel anahtarın PCKS8 formatına çevrilmesi (Java açısından PCKS8 formatında olma ihtiyacı nedeniyle). private_key.pem => Özel anahtarın formatlanmış hali. "),t("br"),a._v(" "),t("strong",[t("code",[a._v("openssl pkcs8 -topk8 -inform PEM -in private.pem -out private_key.pem –nocrypt")])]),t("br"),t("br")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("Açık ve Özel anahtarlar oluşturulduktan sonra Açık Anahtar BKM ile paylaşılır. BKM bu açık anahtarı diğer katılımcıların ulaşabilmesi ve alabilmesi için bir Anahtar Deposu yaklaşımı ile bünyesinde tutar. İlgili anahtarı iletebilmek ve alabilmek için kullanılacak OHS API’ye erişim detayları 9.OHS API içerisinde detaylı olarak paylaşılmıştır. Eğer kurumun ilgili anahtar çiftinin yenilenme durumu söz konusu ise yenilemenin hemen ardından açık anahtar yeni bir imzalama yapılmadan önce mutlaka BKM ile paylaşılmalıdır.")])]),a._v(" "),t("li",[t("p",[a._v("İmzalı mesajı açacak olan kurum mesajı imzalayan kurumun açık anahtarını her sorguda yeniden almak durumunda değildir. Belirli periyodlarda kendi ortamındaki anahtarı yenileyerek sistemi işletebilir. Ancak imzalayan kurum anahtar çifti yenilemesi yaptığında BKM ile açık anahtarını paylaşsa dahi imzalı mesajı doğrulayacak taraf eski açık anahtar ile doğrulama yapmaya çalıştığı için hata alacaktır. Bu ilk hata durumunda hızlıca BKM üzerinden yeni anahtarı alıp mesajı tekrar doğrulamayı denemelidir. Eğer yine hata alıyor ise doğrulama işlemini hata statüsüne almalıdır. Bu sebeple anahtar yenileyen kurum yeni açık anahtarını yeni bir mesaj imzalama yapmadan önce mutlaka BKM ile paylaşmalıdır.")])]),a._v(" "),t("li",[t("p",[a._v("Yanıt mesajının içerisinde yer alan imzanın doğrulanması aşamasında hata alınması durumunda işleme devam edilmemeli ve hata üretilerek paydaşlara bilgi verilmelidir.")])])]),a._v(" "),t("p",[t("strong",[a._v("İmzalama Kuralları (İsteği Başlatan ÖHS)")])]),a._v(" "),t("p",[a._v("ÖHS üzerinden başlayan akış örnek olarak paylaşılmıştır.")]),a._v(" "),t("ul",[t("li",[a._v("İsteği başlatan ÖHS, mesaj imzalama gerektiren her API isteğinin HTTP gövdesini (request body) kendi özel anahtarı ile şifreleyerek imza bilgisini oluşturur.")]),a._v(" "),t("li",[a._v("Ardından bu imza verisini, göndereceği mesajın istek başlığında yer alan X-JWS-Signature alanında göndermelidir.")]),a._v(" "),t("li",[a._v("X-JWS-Signature alanında gönderilecek olan bilgi aşağıdaki yöntem ile oluşturulmalıdır.\n"),t("ol",[t("li",[a._v("Bu alana yazılacak olan bilgi JWT formatında oluşturulmalıdır.")]),a._v(" "),t("li",[a._v("Bir JWT, header-payload-signature alanlarından oluşmaktadır.\n"),t("ul",[t("li",[t("p",[a._v("Header alanında JWT’yi imzalamak için kullanılacak algoritma belirtilmelidir. Standartlar kapsamında RS256 kullanılacaktır.")])]),a._v(" "),t("li",[t("p",[a._v("Payload kısmında özel olarak oluşturulacak olan “body” claim alanına istek gövdesi (request body) verisinin SHA256 hash değeri karşılığı yazılmalıdır.")])]),a._v(" "),t("li",[t("p",[a._v('JSON payload oluşturulurken RFC 7519 baz alınmalıdır. "iss" (Issuer) Claim, "exp" (Expiration Time) Claim, "iat" (Issued At) Claim, “body” Claim alanlarının gönderilmesi zorunludur.'),t("a",{attrs:{href:"https://datatracker.ietf.org/doc/html/rfc7519#section-4",target:"_blank",rel:"noopener noreferrer"}},[a._v("^RFC7519"),t("OutboundLink")],1)]),a._v(" "),t("p",[a._v('a. "iss" (Issuer) Claim : Kurumunuza özel bilgidir.')]),a._v(" "),t("p",[a._v('b. "exp" (Expiration Time) Claim: Saniye cinsinden (Unix time) imzanın son geçerli olduğu tarih. Bu tarih mevcut sunucu saatinizden 60 dakika sonra olacak şekilde kullanılmalıdır.')]),a._v(" "),t("p",[a._v('c. "iat" (Issued At) Claim : Saniye cinsinden (Unix time) imzanın oluşturulduğu tarih. Bu tarih mevcut sunucu saatinizden 5 dakika önce olacak şekilde kullanılmalıdır.')]),a._v(" "),t("p",[a._v("d. “body” Claim : istek gövdesi (request body) verisinin SHA256 hash değeri karşılığı.")])]),a._v(" "),t("li",[t("p",[a._v("Signature alanında da özel anahtar ile imzalanmış olan imza içeriği yer alacaktır.")])])])])])])]),a._v(" "),t("p",[t("strong",[a._v("X-JWS-Signature")]),a._v(": JWS imzasını içeren üstbilgi. Bu başlığın ne zaman belirtilmesi gerektiği hususu ilgili endpoint için belirtilmiştir.")]),a._v(" "),t("p",[t("strong",[a._v("Örnek X-JWS-Signature Payload Değeri")])]),a._v(" "),t("p",[a._v('{\n"iss": "https://xbank.com.tr",\n"exp": 1646832405,\n"iat": 1646746005,\n"body": "c543072f97a761a1d891dc81acc380bc1e6f61ca6541bd93ebfdece338457922"\n}')]),a._v(" "),t("ul",[t("li",[t("p",[a._v("İstek gönderilir. Sadece mesajın bütünlüğünü ve doğruluğunu teyit amacı ile istek gövdesi (request body) SHA256 hash değeri imzalanarak X-JWS-Signature alanında bu imza iletilir. İsteğin gövde (request body) kısmı açık ve şifresiz olarak gönderilmektedir.")])]),a._v(" "),t("li",[t("p",[a._v("İsteği alan ÖHS, talebi gerçekleştirmeden önce aldığı API isteklerinin imzasını doğrulamalıdır. X-JWS-Signature alanındaki JWT aşağıdaki adımlarla doğrulanmalıdır.")]),a._v(" "),t("ol",[t("li",[a._v("Header kısmındaki algoritmanin RS256 olduğu kontrol edilir.")]),a._v(" "),t("li",[a._v("Gönderen katılımcının açık anahtarı ile JWT verify (doğrulama) işlemi yapılır.")]),a._v(" "),t("li",[a._v("Yukarıdaki işlemlerin doğruluğunun ardından JWT’nin payload kısmındaki “body” claim alanındaki bilginin, isteğin gövde verisinin SHA256 hash değerlerinin aynı olduğu kontrol edilir.")]),a._v(" "),t("li",[a._v('Örnek checksum değeri\n"a64b19f95eeb1fb0a0a3e2dbbc6e3d8472c52184d4543417ddc6d156fc5c5571" veya\n"A64B19F95EEB1FB0A0A3E2DBBC6E3D8472C52184D4543417DDC6D156FC5C5571" şeklinde olabilir. İki hali de aynı değere sahiptir.     Kontrollerde buna dikkat edilmesi gerekmektedir.')])])]),a._v(" "),t("li",[t("p",[a._v("Yukarıdaki işlemler ile doğruluğu teyit edilmiş olan isteğin talebi gerçekleştirir.")])]),a._v(" "),t("li",[t("p",[a._v("Eğer istek doğrulanamıyor ise gönderen kurumun açık ve özel anahtar çifti yenilenmiş olabilir.")])]),a._v(" "),t("li",[t("p",[a._v("BKM OHS API üzerinden ilgili kurumun bilgilerini (kurum kodu vs) kullanarak kurumun detay bilgileri çeker ve kendi ortamında yeniler.")])]),a._v(" "),t("li",[t("p",[a._v("Ardından imzayı tekrar açık anahtar ile doğrulayarak kontroller gerçekleştirilir. (Eğer halen doğrulama işlemi başarısız ise bu istek için hata akışı çalıştırılır. "),t("strong",[a._v("TR.OIS.Resource.InvalidSignature")]),a._v(" kodu ile hata üretilebilir.)")])]),a._v(" "),t("li",[t("p",[a._v("İmza bilgisinin beklendiği (x-jws-signature) servislerde, bu bilginin iletilmediği durumlarda "),t("strong",[a._v("TR.OIS.Resource.MissingSignature")]),a._v(" hatası üretilebilir.")])]),a._v(" "),t("li",[t("p",[a._v("İsteği alan ÖHS ; isteği işledikten sonra cevabı oluştururken de yukarıdaki akışlar ile göndereceği cevabı imzalamalıdır.")])]),a._v(" "),t("li",[t("p",[a._v('İstek yanıt gövdesinin SHA256 checksum değeri için hexadecimal çıktı kullanılacaktır. Oluşacak çıktının 64 karakter olması beklenmektedir. Kontrol için "^[A-Fa-f0-9]{64}$" RegEx tarifini kullanabilirsiniz.')])])]),a._v(" "),t("p",[t("strong",[a._v("Anahtar Deposu")])]),a._v(" "),t("p",[a._v("ÖHS'ler tarafından güvenilen bir Güven Otoritesi (Trust Anchor), taraflar için bir genel anahtar deposu sağlamaktan sorumludur.\nGüven Otoritesi, taraflardan herhangi birisinin oluşturduğu bir anahtar çiftinin açık bölümünü saklayan merkezi bir dizin (BKM tarafından tutulan merkezi kayıt sistemi vb.) olacaktır.\nMesajları doğrulamak için tarafların açık anahtarlarının paylaşılması için BKM bir servis sağlayacaktır. OHS API olarak adlandırılımış olan bu servis ile ÖHS listesine ulaşılabildiği gibi doğrulama işlemi için ihtiyaç duyulacak olan açık anahtarlara da bu servis üzerinden erişilebilinecektir.")]),a._v(" "),t("h2",{attrs:{id:"_3-11-durum-kodu"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-11-durum-kodu"}},[a._v("#")]),a._v(" 3.11. Durum Kodu")]),a._v(" "),t("p",[a._v("API’ler, iki farklı amaca hizmet eden iki durum kodu kullanır:")]),a._v(" "),t("ul",[t("li",[a._v("HTTP Durum Kodu, API çağrısının (kaynaktaki HTTP işlemi) sonucunu yansıtır.")]),a._v(" "),t("li",[a._v("Bazı kaynak payload’larındaki Durum alanı, kaynakların durumunu yansıtır.")])]),a._v(" "),t("h2",{attrs:{id:"_3-12-gereksinimlerinin-sınıflandırılması"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-12-gereksinimlerinin-sınıflandırılması"}},[a._v("#")]),a._v(" 3.12. Gereksinimlerinin Sınıflandırılması")]),a._v(" "),t("p",[a._v("Erişim adreslerinin ve alanların kullanımı Zorunlu(Z), İsteğe Bağlı(İ), Koşullu(K), Yok(N/A) olabilir. Kullanımlara ilişkin durumlar ve kullanımın (K) koşullu olduğu duruma ilişkin açıklamalar ilgili tablolarda belirtilmiştir.")]),a._v(" "),t("p",[a._v('Öİ API\'lerinin istek ve yanıtta kullanılacak başlık isimleri, ilgili RFC dokümanlarında ve aşağıdaki tabloda yer aldığı şekilde kullanılacaktır. Uygulamaya özelleşmiş başlıklar "X-" ile başlayacaktır. Başlık isimlerinde yer alacak kısaltmalar tamamı büyük harfle yazılacak şekilde tanımlanacaktır. Başlık isimleri büyük – küçük harfe duyarlı olmamalıdır. Örneğin x-request-id ya da X-Request-ID olarak gönderilmiş olan bir istek başlığı değişkeni, sunucu tarafında hata vermeyecek şekilde işlenebilmelidir.')]),a._v(" "),t("h2",{attrs:{id:"_3-13-istek-baslıgı"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-13-istek-baslıgı"}},[a._v("#")]),a._v(" 3.13. İstek Başlığı")]),a._v(" "),t("ul",[t("li",[a._v('"Başlık isimleri" yorumlanırken küçük büyük harfe duyarlı olmamalıdır. Örneğin "x-ReQuEsT-Id"         geçerli bir başlık ismidir.')]),a._v(" "),t("li",[a._v('"Başlık değerleri" yorumlanırken ise küçük büyük harf duyarlılığı olmalıdır. Örneğin "xyz123" ile "XYZ123" değerleri farklıdır.')]),a._v(" "),t("li",[a._v('Başlık değerlerinde ISO-8859-1 standartında yer alan karakter kümesi kullanılmalıdır. Örneğin "X-Request-Id" değerinde "İOS12" yazmak, büyük "İ" harfinin ISO-8859-1 içerisinde yer almamasından dolayı, hataya yol açacaktır.')]),a._v(" "),t("li",[a._v("İstek ve Yanıt başlığında yer alan alanların; POST GET PUT metotlarında, Zorunlu/Koşullu/İsteğe Bağlı/Yok kullanım durumları aşağıdaki tabloda listelenmiştir.")]),a._v(" "),t("li",[a._v("OdemeIste nesnesinde POST,GET,PUT metotlarında isteği başlatan taraf alacaklı müşteri olacağı için alacaklı ÖHS kod ,x-source-code değeridir. OdemeIsteYaniti nesnesinde POST metotunda isteği başlatan borçlu olacağı için x-source-code değeri borçlu ÖHS kod bilgisidir.")]),a._v(" "),t("li",[a._v("BKM'nin yapacağı ÖHS olay bildirimlerinde x-target-code ve x-source-code aynı değer olacak olup değişiklik yapılan OHS'ye ait kurum kodunu içerecektir.")])]),a._v(" "),t("p",[t("strong",[a._v("Tablo 2: İstek Başlığında Yer Alan Veriler")])]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",[a._v("Başlık İsimleri")]),a._v(" "),t("th",[a._v("Format")]),a._v(" "),t("th",[a._v("Notlar")]),a._v(" "),t("th",[a._v("POST")]),a._v(" "),t("th",[a._v("GET")]),a._v(" "),t("th",[a._v("PUT")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("X-Request-ID")]),a._v(" "),t("td",[a._v("AN1..36")]),a._v(" "),t("td",[a._v("İsteği başlatan ÖHS tarafından belirlenen çağrıya özgü talep kimliği. İstek numarası. "),t("br"),a._v(" Örnek: Ödeme iste talebi iş akışının her adımında farklı “x-request-id” değeri kullanılır. "),t("br"),a._v(" Çağrıların aynı yanıtı dönmesinin beklendiği durumlarda (idempotent işlemlerde) aynı değer ile çağrı yapılır.")]),a._v(" "),t("td",[a._v("Z")]),a._v(" "),t("td",[a._v("Z")]),a._v(" "),t("td",[a._v("Z")])]),a._v(" "),t("tr",[t("td",[a._v("Content-Type")]),a._v(" "),t("td",[a._v("AN1..20")]),a._v(" "),t("td",[a._v("Standart HTTP Başlığı; Talepte sağlanan payload’ın biçimini temsil eder. Bu değerin application/json olarak gönderilmesi gerekmektedir. Hata durumlarında application/problem+json da iletilebilir."),t("br"),a._v(" (Başka bir değere ayarlanırsa, ÖHS, 415 Desteklenmeyen Ortam Türü (Unsupported Media Type) ile yanıt vermelidir)")]),a._v(" "),t("td",[a._v("Z")]),a._v(" "),t("td",[a._v("-")]),a._v(" "),t("td",[a._v("Z")])]),a._v(" "),t("tr",[t("td",[a._v("X-Source-Code")]),a._v(" "),t("td",[a._v("AN4")]),a._v(" "),t("td",[a._v("İsteği başlatan Ödeme Hizmeti Sağlayıcısının (ÖHS) kodudur.")]),a._v(" "),t("td",[a._v("Z")]),a._v(" "),t("td",[a._v("Z")]),a._v(" "),t("td",[a._v("Z")])]),a._v(" "),t("tr",[t("td",[a._v("X-Target-Code")]),a._v(" "),t("td",[a._v("AN4")]),a._v(" "),t("td",[a._v("İsteği alan Ödeme Hizmeti Sağlayıcısı (ÖHS) kodudur.")]),a._v(" "),t("td",[a._v("Z")]),a._v(" "),t("td",[a._v("Z")]),a._v(" "),t("td",[a._v("Z")])]),a._v(" "),t("tr",[t("td",[a._v("Authorization")]),a._v(" "),t("td",[a._v("AN1..4096")]),a._v(" "),t("td",[a._v("Katılımcı ile GEÇİT arasındaki otorizasyon için kullanılan token bilgisidir.")]),a._v(" "),t("td",[a._v("Z")]),a._v(" "),t("td",[a._v("Z")]),a._v(" "),t("td",[a._v("Z")])]),a._v(" "),t("tr",[t("td",[a._v("X-JWS-Signature")]),a._v(" "),t("td",[a._v("AN1..4096")]),a._v(" "),t("td",[a._v("HTTP isteğinin gövdesinin hash fonksiyonu (SHA256) ile özeti alınacaktır. Elde edilen özet, asimetrik anahtarları destekleyen bir algoritma kullanılarak imzalanacak ve JWS elde edilecektir.Bu başlığın ne zaman belirtilmesi gerektiği hususu ilgili endpoint için imzalama türü başlığında İmzalı İstek olarak belirtilmiştir.")]),a._v(" "),t("td",[a._v("Z")]),a._v(" "),t("td",[a._v("-")]),a._v(" "),t("td",[a._v("Z")])]),a._v(" "),t("tr",[t("td",[a._v("X-Channel-Type")]),a._v(" "),t("td",[a._v("AN1")]),a._v(" "),t("td",[a._v("İsteğin başlatıldığı kanal bilgisidir. "),t("strong",[a._v("TR.OIS.DataCode.KanalBilgisi")]),a._v(" sıralı veri türü değerlerinden birini alır.")]),a._v(" "),t("td",[a._v("Z")]),a._v(" "),t("td",[a._v("-")]),a._v(" "),t("td",[a._v("-")])]),a._v(" "),t("tr",[t("td",[a._v("PSU-Fraud-Check")]),a._v(" "),t("td",[a._v("AN1..4096")]),a._v(" "),t("td",[a._v("ÖHS'lerin çeşitli güvenlik kontrollerini gerçekleştirerek, önemli görülen aşağıdaki bilgileri birbirleri ile paylaşmaları gerekmektedir. "),t("strong",[a._v("X-Channel-Type, web ya da mobil ise gönderilmesi zorunludur.")]),a._v(" "),t("br"),a._v(" PSU-Fraud-Check alanının POST/odeme-iste servisi içerisinde gönderimi zorunludur. Flagler, JWT claims içine key value şeklinde eklenerek gönderilecektir. 3.10. Mesaj İmzalama Akışı'nda belirtilen yöntemle imzalanarak oluşturulan JWT PSU-Fraud-Check alanına konularak Alacaklı ÖHS tarafından Borçlu ÖHS'ye iletilmelidir. "),t("br"),t("br"),a._v(" Paylaşılacak bilgiler şu şekildedir."),t("br"),a._v(" "),t("br"),t("b",[a._v("CustomerOpenDate")]),a._v(" : Alıcı ÖHS tarafından, alıcı hesap sahibinin müşteri olma tarihi üzerinden geçen gün değerini ifade eder. "),t("br"),a._v(" "),t("strong",[a._v("Gönderilmesi Zorunlu alandır.")]),t("br"),a._v("TR.OIS.DataCode.ZmnAralik sıralı veri tipinin alabileceği değerleri alabilir."),t("br"),a._v(" "),t("br"),t("b",[a._v("AccountOpenDate")]),a._v(" : Ödeme iste talebi içerisinde yer alan alıcı hesabın (Alıcı IBAN) açılma tarihi üzerinden geçen gün değerini ifade eder. "),t("br"),a._v(" "),t("strong",[a._v("Gönderilmesi Zorunlu alandır.")]),t("br"),a._v("TR.OIS.DataCode.ZmnAralik sıralı veri tipinin alabileceği değerleri alabilir."),t("br"),a._v(" "),t("br"),t("b",[a._v("CustomerAgeFlag")]),a._v(" : Alıcı müşteriye ait yaş aralığını ifade eden değerdir. "),t("br"),t("strong",[a._v("Gönderilmesi zorunlu alandır. Bireysel müşteriler için TR.OIS.DataCode.YasAralik veri tiplerinden 1,2,3,4,5 değerleri iletilmelidir. Tüzel/Kurumsal müşteriler için ise 0 değeri iletilmelidir.")]),a._v(" "),t("br"),t("br"),t("b",[a._v("RemoteCustomerFlag")]),a._v(" : Alıcı müşterinin uzaktan müşteri edinimi ile oluşturulmuş bir müşteri bilgisi olup olmadığını belirten değerdir. "),t("br"),a._v(" "),t("strong",[a._v("Gönderilmesi Zorunlu alandır.")]),t("br"),a._v('TR.OIS.DataCode.VarYok sıralı veri tipinin alabileceği değerleri alabilir. Örneğin; uzaktan müşteri edinimi ile kazanılmış bir müşteri ise değerin "1:Kayıt Var" olarak iletilmesi gerekmektedir.'),t("br"),a._v(" "),t("br"),t("b",[a._v("CustomerSalaryFlag")]),a._v(" : Alıcı müşterinin Alıcı ÖHS içerisinde maaş müşterisi olup olmadığını belirten değerdir. "),t("br"),a._v(" "),t("strong",[a._v("Gönderilmesi Zorunlu alandır.")]),t("br"),a._v('TR.OIS.DataCode.VarYok sıralı veri tipinin alabileceği değerleri alabilir. Örneğin; maaş müşterisi olan bir müşteri için değerin "1:Kayıt Var" olarak iletilmesi gerekmektedir.'),t("br"),a._v(" "),t("br"),t("b",[a._v("FirstRequestTimeFlag")]),a._v(" : Alacaklı müşterinin Alacaklı ÖHS nezdinde ilk Ödeme İste talebi yaptığı tarih üzerinden geçen gün değerini ifade eder. "),t("br"),a._v(" "),t("strong",[a._v("Gönderilmesi Zorunlu alandır.")]),t("br"),a._v("TR.OIS.DataCode.ZmnAralik sıralı veri tipinin alabileceği değerleri alabilir."),t("br"),a._v(" "),t("br"),t("b",[a._v("DeviceFirstLoginFlag")]),a._v("  Müşterinin müşterilik ömründe işlem anında kullandığı cihazla ÖHS uygulamasına (web ya da uygulama tabanlı) ilk login olma süresini ifade eden değer. Müşteri cihaz değişikliği yaptığında DeviceFirstLoginFlag değeri değişmelidir.  "),t("br"),a._v(" "),t("strong",[a._v("Gönderilmesi Zorunlu alandır.")]),t("br"),a._v("TR.OIS.DataCode.ZmnAralik sıralı veri tipinin alabileceği değerleri alabilir."),t("br"),a._v(" "),t("br")]),a._v(" "),t("td",[a._v("K")]),a._v(" "),t("td",[a._v("-")]),a._v(" "),t("td",[a._v("-")])])])]),a._v(" "),t("p",[a._v("PSU-Fraud-Check için imza bilgisi isteği alan ÖHS tarafından doğrulanmalıdır. Doğrulama işlemi başarısız olması durumunda "),t("strong",[a._v("TR.OIS.Resource.PsuFraudInvalidSignature")]),a._v(" kodu ile hata üretilmelidir.")]),a._v(" "),t("p",[a._v("PSU-Fraud-Check bilgisinin iletilmediği durumlarda ise "),t("strong",[a._v("TR.OIS.Resource.PsuFraudMissingSignature")]),a._v(" kodu ile hata üretilmelidir.")]),a._v(" "),t("p",[a._v("PSU-Fraud-Check içerisinde yer alan zorunlu alanlardan(Örn: CustomerOpenDate) herhangi birinin eksik olması durumunda iletilen eksik imza bilgisi için "),t("strong",[a._v("TR.OIS.Resource.PsuFraudInvalidFormat")]),a._v(" kodu ile hata üretilmelidir.")]),a._v(" "),t("h2",{attrs:{id:"_3-14-yanıt-baslıgı"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-14-yanıt-baslıgı"}},[a._v("#")]),a._v(" 3.14. Yanıt Başlığı")]),a._v(" "),t("ul",[t("li",[a._v('"Başlık isimleri" yorumlanırken küçük büyük harfe duyarlı olmamalıdır. Örneğin "x-ReQuEsT-Id" geçerli bir başlık ismidir.')]),a._v(" "),t("li",[a._v('"Başlık değerleri" yorumlanırken ise küçük büyük harf duyarlılığı olmalıdır. Örneğin "xyz123" ile "XYZ123" değerleri farklıdır.')]),a._v(" "),t("li",[a._v('Başlık değerlerinde ISO-8859-1 standartında yer alan karakter kümesi kullanılmalıdır. Örneğin "X-Request-Id" değerinde "İOS12"'),t("br"),a._v('\nyazmak, büyük "İ" harfinin ISO-8859-1 içerisinde yer almamasından dolayı, hataya yol açacaktır.')]),a._v(" "),t("li",[a._v("OdemeIste nesnesinde GET,POST,DELETE metotlarında isteği alan taraf borçlu müşteri olacağı için borçlu ÖHS kod ,x-target-code değeridir. OdemeIsteYaniti nesnesinde POST metotunda isteği alan alacaklı olacağı için x-target-code değeri alacaklı ÖHS kod bilgisidir.")]),a._v(" "),t("li",[a._v("BKM'nin yapacağı ÖHS olay bildirimlerinde x-target-code ve x-source-code aynı değer olacak olup değişiklik yapılan OHS'ye ait kurum kodunu içerecektir.")])]),a._v(" "),t("p",[t("strong",[a._v("Tablo 3: Yanıt Başlığında Yer Alan Veriler")])]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",[a._v("Başlık İsimleri")]),a._v(" "),t("th",[a._v("Format")]),a._v(" "),t("th",[a._v("Notlar")]),a._v(" "),t("th",[a._v("POST")]),a._v(" "),t("th",[a._v("GET")]),a._v(" "),t("th",[a._v("PUT")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("X-Request-ID")]),a._v(" "),t("td",[a._v("AN1..36")]),a._v(" "),t("td",[a._v("İsteği başlatan ÖHS tarafından belirlenen çağrıya özgü talep kimliği. İstek numarası. "),t("br"),a._v(" Örnek: Ödeme iste talebi iş akışının her adımında farklı “x-request-id” değeri kullanılır. "),t("br"),a._v(" Çağrıların aynı yanıtı dönmesinin beklendiği durumlarda (idempotent işlemlerde) aynı değer ile çağrı yapılır. "),t("br"),a._v(" "),t("strong",[a._v("İlgili istek başlığındaki bilgi geri dönülür.")])]),a._v(" "),t("td",[a._v("Z")]),a._v(" "),t("td",[a._v("Z")]),a._v(" "),t("td",[a._v("Z")])]),a._v(" "),t("tr",[t("td",[a._v("Content-Type")]),a._v(" "),t("td",[a._v("AN1..20")]),a._v(" "),t("td",[a._v("Standart HTTP Başlığı; Talepte sağlanan payload’ın biçimini temsil eder. Bu değerin application/json olarak gönderilmesi gerekmektedir. Hata durumlarında application/problem+json da iletilebilir."),t("br"),a._v(" (Başka bir değere ayarlanırsa, ÖHS, 415 Desteklenmeyen Ortam Türü (Unsupported Media Type) ile yanıt vermelidir)")]),a._v(" "),t("td",[a._v("Z")]),a._v(" "),t("td",[a._v("-")]),a._v(" "),t("td",[a._v("Z")])]),a._v(" "),t("tr",[t("td",[a._v("X-Source-Code")]),a._v(" "),t("td",[a._v("AN4")]),a._v(" "),t("td",[a._v("İsteği başlatan Ödeme Hizmeti Sağlayıcısının (ÖHS) kodudur. "),t("br"),a._v(" "),t("strong",[a._v("İlgili istek başlığındaki bilgi geri dönülür")])]),a._v(" "),t("td",[a._v("Z")]),a._v(" "),t("td",[a._v("Z")]),a._v(" "),t("td",[a._v("Z")])]),a._v(" "),t("tr",[t("td",[a._v("X-Target-Code")]),a._v(" "),t("td",[a._v("AN4")]),a._v(" "),t("td",[a._v("İsteği alan Ödeme Hizmeti Sağlayıcısının (ÖHS) kodudur. "),t("br"),a._v(" "),t("strong",[a._v("İlgili istek başlığındaki bilgi geri dönülür.")])]),a._v(" "),t("td",[a._v("Z")]),a._v(" "),t("td",[a._v("Z")]),a._v(" "),t("td",[a._v("Z")])]),a._v(" "),t("tr",[t("td",[a._v("X-JWS-Signature")]),a._v(" "),t("td",[a._v("AN1..4096")]),a._v(" "),t("td",[a._v("HTTP yanıtının gövdesinin hash fonksiyonu (SHA256) ile özeti alınacaktır. Elde edilen özet, asimetrik anahtarları destekleyen bir algoritma kullanılarak imzalanacak ve JWS elde edilecektir.Bu başlığın ne zaman belirtilmesi gerektiği hususu ilgili endpoint için imzalama türü başlığında İmzalı Yanıt olarak belirtilmiştir. Yanıt başlığındaki  “X-JWS-Signature”  gönderimi zorunlu olan endpointler için; "),t("br"),a._v(" Başarılı yanıt alındığı her durumda doğrulama yapılmalı. "),t("br"),a._v("(2**)Hatalı yanıt alındığı durumlarda ise X-JWS-Signature başlık değeri dolu ise doğrulama yapılmalıdır. (4**, 5**)")]),a._v(" "),t("td",[a._v("Z")]),a._v(" "),t("td",[a._v("Z")]),a._v(" "),t("td",[a._v("Z")])])])]),a._v(" "),t("h2",{attrs:{id:"_3-15-idempotency-kuralları"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-15-idempotency-kuralları"}},[a._v("#")]),a._v(" 3.15. Idempotency Kuralları")]),a._v(" "),t("p",[a._v("İsteği yapan ÖHS’nin aşağıdaki durumlarda aynı istek numarası (x-request-id) ve aynı veri gövdesiyle çağrıyı tekrarlaması; isteği alan ÖHS’nin de bu durumlarda aynı yanıtı dönmesi gereklidir.")]),a._v(" "),t("ul",[t("li",[a._v("İsteği alan ÖHS’nin yanıtı kesinti/arıza nedeniyle isteği yapan ÖHS’ye ulaşmaması ve zaman aşımı söz konusu olması,")]),a._v(" "),t("li",[a._v("Müşteri, ÖHS uygulaması üzerinden çift tıklama ile mükerrer şekilde OI API’lerini çağırması, (API kontrollerinden önce ÖHS uygulamasının, çift tıklama kontrolü yapması önerilmektedir.)")]),a._v(" "),t("li",[a._v("İsteği yapan ÖHS, yanıt almasına rağmen işleyemeden kaybetmesi,")])]),a._v(" "),t("p",[a._v("durumlarında isteği alan ÖHS aşağıdaki kuralları işletir:")]),a._v(" "),t("ul",[t("li",[a._v("ÖHS gelen istek numarasını ve veri gövdesini birleştirerek checksum değeri üretir.\nchesksum değeri x-request-id|request.body ‘nin hash algoritmalarından (CRC32,MD5 vb) geçirilerek üretilebilir.")]),a._v(" "),t("li",[a._v("İsteği alan ÖHS bu checksum değeri ile isteği yapan ÖHS’ye dönmüş olduğu yanıtı 5 dk boyunca saklar. Saklama yöntemi olarak veri tabanı veya önbellek araçları kullanılabilir.")]),a._v(" "),t("li",[a._v("İsteği yapan ÖHS aynı istek numarası ve aynı veri gövdesi ile yeni bir çağrı yaptığında, aynı checksum değeri üretileceği için 5dk boyunca bu değere karşılık gelen yanıtı döner.")]),a._v(" "),t("li",[a._v("5 dk sonrasında istek numarası veya veri gövdesi değişmemiş olsa dahi bu isteği alan ÖHS tarafından yeni istek olarak kabul edilir.")])]),a._v(" "),t("p",[a._v("Aşağıdaki Post işlemleri için bu kural setinin işletilmesi gerekmektedir:")]),a._v(" "),t("p",[a._v("1- POST /odeme-iste")]),a._v(" "),t("h2",{attrs:{id:"_3-16-http-durum-kodları"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-16-http-durum-kodları"}},[a._v("#")]),a._v(" 3.16. HTTP Durum Kodları")]),a._v(" "),t("p",[a._v("RFC 2616'da belirlenmiş olan durum kodları (status code) gönderilen isteğin durumunu  standart bir şekilde ifade eder. Eğer bir hata varsa hatayı, gönderilen istek başarılı bir şekilde işlem gördüyse ona ilişkin durumu aktarır. Durum kodları genel olarak 5 kategoridedir.")]),a._v(" "),t("ul",[t("li",[a._v("1xx Bilgi")]),a._v(" "),t("li",[a._v("2xx Başarılı")]),a._v(" "),t("li",[a._v("3xx Yönlendirme")]),a._v(" "),t("li",[a._v("4xx İstemci Hatası")]),a._v(" "),t("li",[a._v("5xx Sunucu Hatası")])]),a._v(" "),t("p",[t("strong",[a._v("errorCode Alanında Kullanılabilecek Sıralı Hata Tipleri :")])]),a._v(" "),t("blockquote",[t("p",[t("strong",[a._v("TR.OIS.Resource")])]),a._v(" "),t("blockquote",[t("p",[t("strong",[a._v("⇨\tInvalidFormat")]),a._v(" "),t("strong",[t("br"),a._v("InvalidFormat hata kodlarında fieldErrors içeriği gönderilmeli ve anlaşılır açıklama ile message , messageTr alanları doldurulmalıdır.")]),t("br"),a._v(" "),t("strong",[a._v("⇨\tNotFound")]),t("br"),a._v(" "),t("strong",[a._v("⇨\tInvalidSignature")]),t("br"),a._v(" "),t("strong",[a._v("⇨\tMissingSignature")]),t("br"),a._v(" "),t("strong",[a._v("⇨\tRecipientMismatch")]),t("br"),a._v(" "),t("strong",[a._v("⇨\tSenderMismatch")]),t("br"),a._v(" "),t("strong",[a._v("⇨\tMethodNotAllowed")]),t("br"),a._v(" "),t("strong",[a._v("⇨\tNotAcceptable")]),t("br"),a._v(" "),t("strong",[a._v("⇨\tPsuFraudInvalidSignature")]),t("br"),a._v(" "),t("strong",[a._v("⇨\tPsuFraudMissingSignature")]),t("br"),a._v(" "),t("strong",[a._v("⇨\tPsuFraudInvalidFormat")]),t("br"),a._v(" "),t("strong",[a._v("⇨\tRefNoAlreadyExists")]),t("br"),a._v(" "),t("strong",[a._v("⇨\tRefNoMismatch")]),t("br"),a._v(" "),t("strong",[a._v("⇨\tUnsupportedMediaType")])])])]),a._v(" "),t("blockquote",[t("p",[t("strong",[a._v("TR.OIS.Business")])]),a._v(" "),t("blockquote",[t("p",[t("strong",[a._v("⇨\tInvalidContent")]),t("br"),a._v(" "),t("strong",[a._v("⇨\tRecipientAccountMismatch")]),t("br"),a._v(" "),t("strong",[a._v("⇨\tSenderAccountMismatch")]),t("br"),a._v(" "),t("strong",[a._v("⇨\tInvalidSenderTitle")]),t("br"),a._v(" "),t("strong",[a._v("⇨\tInvalidSenderAccount")]),t("br"),a._v(" "),t("strong",[a._v("⇨\tRestrictedAccount")]),t("br"),a._v(" "),t("strong",[a._v("⇨\tSenderRestrict")]),t("br"),a._v(" "),t("strong",[a._v("⇨\tInvalidExpireTime")]),t("br"),a._v(" "),t("strong",[a._v("⇨\tFastLimitExceeded")]),t("br"),a._v(" "),t("strong",[a._v("⇨\tStateMismatch")]),t("br"),a._v(" "),t("strong",[a._v("⇨\tInvalidApproveTime")]),t("br"),a._v(" "),t("strong",[a._v("⇨\tBlockedRecipient")]),t("br"),a._v(" "),t("strong",[a._v("⇨\tUnsupportedCorporate")]),t("br"),a._v(" "),t("strong",[a._v("⇨\tUnsupportedRequestedPaymentTime")])])])]),a._v(" "),t("blockquote",[t("p",[t("strong",[a._v("TR.OIS.Connection")])]),a._v(" "),t("blockquote",[t("p",[t("strong",[a._v("⇨\tInvalidCertificate")]),t("br"),a._v(" "),t("strong",[a._v("⇨\tInvalidSender")]),t("br"),a._v(" "),t("strong",[a._v("⇨\tInvalidRecipient")]),t("br"),a._v(" "),t("strong",[a._v("⇨ InvalidToken")])])])]),a._v(" "),t("blockquote",[t("p",[t("strong",[a._v("TR.OIS.Server")])]),a._v(" "),t("blockquote",[t("p",[t("strong",[a._v("⇨\tInternalError")]),t("br"),a._v(" "),t("strong",[a._v("⇨\tServiceUnavailable")])])])]),a._v(" "),t("p",[a._v("TR.OIS.Resource.InvalidFormat hatası alındığı durumda; fieldErrors nesnesi içerisinde verilecek hata kodları :")]),a._v(" "),t("blockquote",[t("p",[t("strong",[a._v("TR.OIS.Field")])]),a._v(" "),t("blockquote",[t("p",[t("strong",[a._v("⇨\tMissing")]),t("br"),a._v(" "),t("strong",[a._v("⇨\tInvalid")])])])]),a._v(" "),t("p",[t("strong",[a._v("Veri Tipi Örneği:")])]),a._v(" "),t("div",{staticClass:"language-JSON extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"path"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/odeme-iste-api/ois/s1.0/odeme-iste"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"id"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"b6ac3b8f-d604-12b6-bne1-3a800e270219"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"timestamp"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"2023-07-01T10:33:15+03:00"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"httpCode"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("400")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"httpMessage"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Bad Request"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"moreInformation"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Validation error"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"moreInformationTr"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Şema kontrolleri başarısız"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"fieldErrors"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"objectName"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"odemeIsteTalebi"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"field"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"tutarBilgi.paraBirimi"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"messageTr"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"boş değer olamaz"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"message"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"must not be null"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"code"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"TR.OIS.Field.Missing"')]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"objectName"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"odemeIsteTalebi"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"field"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"alacakliBilgi.musteriTipi.kimlik.kimlikDegeri"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"messageTr"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("\"boyut '7' ile '11' arasında olmalı\"")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"message"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"size must be between 7 and 11"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"code"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"TR.OIS.Field.Invalid"')]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"errorCode"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"TR.OIS.Resource.InvalidFormat"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" \n")])])]),t("p",[t("strong",[a._v("Tablo 4: HTTP Durum Kodları")])]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",[a._v("HTTP Durum")]),a._v(" "),t("th",[a._v("İstek Sonucu ve Açıklamalar")]),a._v(" "),t("th",[a._v("POST")]),a._v(" "),t("th",[a._v("GET")]),a._v(" "),t("th",[a._v("DELETE")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("200 OK")]),a._v(" "),t("td",[t("strong",[a._v("İstek Başarıyla Tamamlandı.")]),t("br"),a._v("Kaynak güncellemek için yapılan (örneğin, GET) ve başarıyla tamamlanan isteklerinde kullanılır.")]),a._v(" "),t("td",[a._v("H")]),a._v(" "),t("td",[a._v("E")]),a._v(" "),t("td",[a._v("H")])]),a._v(" "),t("tr",[t("td",[a._v("201 Created")]),a._v(" "),t("td",[t("strong",[a._v("İstek Başarılı Oldu.")]),t("br"),a._v("Kaynak yaratma isteği (örneğin, POST /odeme-iste) başarıyla sonuçlandı.")]),a._v(" "),t("td",[a._v("E")]),a._v(" "),t("td",[a._v("H")]),a._v(" "),t("td",[a._v("H")])]),a._v(" "),t("tr",[t("td",[a._v("204 No Content")]),a._v(" "),t("td",[t("strong",[a._v("Silme işlemi başarıyla tamamlandı.")]),t("br"),a._v("Kaynak silme isteği (örneğin, "),t("strong",[a._v("DELETE/odeme-iste/{odemeIsteRefNo}")]),a._v(") başarıyla sonuçlandı.")]),a._v(" "),t("td",[a._v("H")]),a._v(" "),t("td",[a._v("H")]),a._v(" "),t("td",[a._v("E")])]),a._v(" "),t("tr",[t("td",[a._v("400 Bad Request")]),a._v(" "),t("td",[t("strong",[a._v("İstekte bozuk, eksik veya uyumlu olmayan JSON gövdesi, URL parametreleri veya başlık alanları var.")]),a._v(" İstekle başlatılan işlem yapısal bozukluk, eksik veya tutarsız veri veya HHS tarafındaki kontrollerin hatalı sonuçlanması nedeniyle hata ile sonuçlanır ve hataya ilişkin veriler hata nesnesi içerisinde dönülür.")]),a._v(" "),t("td",[a._v("E")]),a._v(" "),t("td",[a._v("E")]),a._v(" "),t("td",[a._v("E")])]),a._v(" "),t("tr",[t("td",[a._v("401 Unauthorized")]),a._v(" "),t("td",[t("strong",[a._v("Yetkilendirme başlığı eksik, hatalı veya geçersiz olduğundan istek yetkilendirilmediğinde ve erişim reddedildiğinde http 401 kodu dönülmelidir.")])]),a._v(" "),t("td",[a._v("E")]),a._v(" "),t("td",[a._v("E")]),a._v(" "),t("td",[a._v("E")])]),a._v(" "),t("tr",[t("td",[a._v("404 Not Found")]),a._v(" "),t("td",[a._v("**ÖHS geçerli bir API erişim adresini sağlamıyorsa, o URL'ye gelen istekler için 404 (Bulunamadı) ile yanıt vermelidir.**Uygulama esaslarında tanımlanmayan bir kaynak için bir URL'ye erişmeye çalışırsa (örneğin, GET /yurtdisi-odeme-iste), ÖHS, 404 (Bulunamadı) ile yanıt vermeyi seçebilir.")]),a._v(" "),t("td",[a._v("E")]),a._v(" "),t("td",[a._v("E")]),a._v(" "),t("td",[a._v("E")])]),a._v(" "),t("tr",[t("td",[a._v("405 Method Not Allowed")]),a._v(" "),t("td",[t("strong",[a._v("İsteği başlatan ÖHS, desteklenmeyen bir yöntemle kaynağa erişmeye çalıştı.")])]),a._v(" "),t("td",[a._v("E")]),a._v(" "),t("td",[a._v("E")]),a._v(" "),t("td",[a._v("E")])]),a._v(" "),t("tr",[t("td",[a._v("406 Not Acceptable")]),a._v(" "),t("td",[t("strong",[a._v("İstek, geçersiz bir karakter kümesi içeriyor.")])]),a._v(" "),t("td",[a._v("E")]),a._v(" "),t("td",[a._v("E")]),a._v(" "),t("td",[a._v("E")])]),a._v(" "),t("tr",[t("td",[a._v("415 Unsupported Media Type")]),a._v(" "),t("td",[t("strong",[a._v("İstek gövdesi hedef kaynakta bu yöntem tarafından desteklenmeyen bir biçimde oluşturulduğu için işlem reddedildi")])]),a._v(" "),t("td",[a._v("E")]),a._v(" "),t("td",[a._v("H")]),a._v(" "),t("td",[a._v("H")])]),a._v(" "),t("tr",[t("td",[a._v("500 Internal Server Error")]),a._v(" "),t("td",[t("strong",[a._v("API sunucu / servis katmanında sorun oluştu. İşlem başarısız.")]),t("br"),a._v(" 5XX hata durumlarında yanıt gövde değeri olmadığı için mesaj imzalama yapılamaz ve x-jws-signature alanı boş olarak iletilir."),t("br"),a._v(" Bu durumda x-jws-signature kontrolü yapılmamalıdır.")]),a._v(" "),t("td",[a._v("E")]),a._v(" "),t("td",[a._v("E")]),a._v(" "),t("td",[a._v("E")])]),a._v(" "),t("tr",[t("td",[a._v("503 Service Unavailable")]),a._v(" "),t("td",[a._v("Hizmet sürümü kullanımdan kaldırıldı veya hizmet verilemiyor durumu.")]),a._v(" "),t("td",[a._v("E")]),a._v(" "),t("td",[a._v("E")]),a._v(" "),t("td",[a._v("E")])])])]),a._v(" "),t("p",[t("strong",[a._v("Hata Örnekleri:")])]),a._v(" "),t("p",[t("ins",[t("strong",[a._v("400 Bad Request")])])]),a._v(" "),t("p",[t("strong",[a._v("TR.OIS.Business.InvalidContent")]),a._v(" hatası Borçlu ÖHS tarafından yapılacak iş kuralı kontrollerinin başarısız olduğu durumda verilmelidir."),t("br"),a._v(" "),t("strong",[a._v("TR.OIS.Resource.InvalidFormat")]),a._v(" hatası şema validasyonu, alan uzunluk ve varlık kontrollerinin başarısız olduğu durumda verilmelidir.\n"),t("strong",[t("br"),a._v("InvalidFormat hata kodlarında fieldErrors içeriği gönderilmeli ve anlaşılır açıklama ile message , messageTr alanları doldurulmalıdır.")])]),a._v(" "),t("div",{staticClass:"language-JSON extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"path"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/odeme-iste-api/ois/s1.0/odeme-iste"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"id"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"b6ac3b8f-d604-12b6-bne1-3a800e270219"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"timestamp"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"2023-07-01T10:33:15+03:00"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"httpCode"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("400")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"httpMessage"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Bad Request"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"moreInformation"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Validation error"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"moreInformationTr"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Şema kontrolleri başarısız"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"fieldErrors"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"objectName"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"odemeIsteTalebi"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"field"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"tutarBilgi.paraBirimi"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"messageTr"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"boş değer olamaz"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"message"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"must not be null"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"code"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"TR.OIS.Field.Missing"')]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"objectName"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"odemeIsteTalebi"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"field"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"alacakliBilgi.musteriTipi.kimlik.kimlikDegeri"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"messageTr"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("\"boyut '1' ile '30' arasında olmalı\"")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"message"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"size must be between 1 and 30"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"code"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"TR.OIS.Field.Invalid"')]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"errorCode"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"TR.OIS.Resource.InvalidFormat"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" \n")])])]),t("p",[a._v("Zorunlu header alanlarından biri ya da birkaçı eksik olarak gönderilirse aşağıdaki gibi bir hata dönüşü gerçekleşebilir.")]),a._v(" "),t("p",[a._v("Borçlu ÖHS uygulaması tarafından dönülebilecek hata örnekleri:")]),a._v(" "),t("div",{staticClass:"language-JSON extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"path"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/odeme-iste-api/ois/s1.0/odeme-iste"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"id"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"2005515d-f0e6-4a07-a439-0ef3b0f56011"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"timestamp"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"2023-07-02T10:39:26+03:00"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"httpCode"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("400")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"httpMessage"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Bad Request"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"moreInformation"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Validation error"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"moreInformationTr"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Şema kontrolleri başarısız"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"errorCode"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"TR.OIS.Resource.InvalidFormat"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"fieldErrors"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("         \n            "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"field"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"X-Request-ID"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"messageTr"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"X-Request-ID değeri boş olamaz."')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"message"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"X-Request-ID cannot be null."')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n            "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"code"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"TR.OIS.Field.Invalid"')]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" \n\n")])])]),t("p",[a._v("İstek başlığında yer alan x-target-code ile istek gövdesi içerisinde yer alan Borçlu ÖHS kod aynı olmadığı durumda dönülecek hata örneği:")]),a._v(" "),t("div",{staticClass:"language-JSON extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"path"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/odeme-iste-api/ois/s1.0/odeme-iste"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"id"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"2005515d-f0e6-4a07-a439-0ef3b0f56011"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"timestamp"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"2023-07-02T10:39:26+03:00"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"httpCode"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("400")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"httpMessage"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Bad Request"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"moreInformation"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Recipient Code Error"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"moreInformationTr"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Borçlu ÖHS kod istek ve gövde değeri eşleşmiyor"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"errorCode"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"TR.OIS.Resource.SenderMismatch"')]),a._v("\n    \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" \n\n")])])]),t("p",[a._v("İstek başlığında yer alan x-source-code ile istek gövdesi içerisinde yer alan Alacaklı ÖHS kod aynı olmadığı durumda dönülecek hata örneği:")]),a._v(" "),t("div",{staticClass:"language-JSON extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"path"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/odeme-iste-api/ois/s1.0/odeme-iste"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"id"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"2005515d-f0e6-4a07-a439-0ef3b0f56011"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"timestamp"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"2023-07-02T10:39:26+03:00"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"httpCode"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("400")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"httpMessage"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Bad Request"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"moreInformation"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Recipient Code Error"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"moreInformationTr"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Alacaklı ÖHS kod istek ve gövde değeri eşleşmiyor"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"errorCode"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"TR.OIS.Resource.RecipientMismatch"')]),a._v("\n    \n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" \n\n")])])]),t("p",[a._v("Business hata örneği - 1:")]),a._v(" "),t("div",{staticClass:"language-JSON extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"path"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/odeme-iste-api/ois/s1.0/odeme-iste"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"id"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"677cfd9d-77c1-4ea3-8bdf-74a6e9887177"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"timestamp"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"2023-07-04T11:05:59+03:00"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"httpCode"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("400")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"httpMessage"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Bad Request"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"moreInformation"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"sender title wrong"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"moreInformationTr"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Gönderen Ünvan hatalı"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"errorCode"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"TR.OIS.Business.InvalidSenderTitle"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" \n")])])]),t("p",[a._v("GEÇİT'te yapılan zorunlu header kontrollerinde aşağıdaki hatalar dönebilir:")]),a._v(" "),t("div",{staticClass:"language-JSON extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"timestamp"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"2023-07-04T10:40:28+03:00"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"path"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/odeme-iste-api/ois/s1.0/odeme-iste"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"id"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"d4375748-6fc7-4f7e-94f3-6411cab1d59f"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"moreInformationTr"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Geçersiz ÖHS kodu."')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"errorCode"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"TR.OIS.Connection.InvalidRecipient"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"moreInformation"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Invalid Recipient Code"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"httpCode"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("400")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"httpMessage"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Bad Request"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" \n")])])]),t("p",[a._v("GEÇİT tarafından dönülecek hata örneği:")]),a._v(" "),t("div",{staticClass:"language-JSON extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"timestamp"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"2023-07-05T10:40:28+03:00"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"path"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/odeme-iste-api/ois/s1.0/odeme-iste"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"id"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"d4375748-6fc7-4f7e-94f3-6411cab1d59f"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"moreInformationTr"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Geçersiz ÖHS kodu."')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"errorCode"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"TR.OIS.Connection.InvalidSender"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"moreInformation"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Invalid Sender Code"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"httpCode"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("400")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"httpMessage"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Bad Request"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" \n")])])]),t("p",[a._v("GEÇİT tarafından dönülecek hata örneği:")]),a._v(" "),t("div",{staticClass:"language-JSON extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"timestamp"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"2023-07-03T11:14:05+03:00"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"path"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/odeme-iste-api/ois/s1.0/odeme-iste"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"id"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"ee1e3ea7-a5e5-468b-bb02-314148f84e6a"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"moreInformationTr"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Geçersiz öhs rolü. İlgili api çağrısı için yetkisi yok."')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"errorCode"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"TR.OIS.Connection.InvalidSenderRole"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"moreInformation"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Invalid Sender Role"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"httpCode"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("403")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"httpMessage"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Forbidden"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" \n\n")])])]),t("p",[t("ins",[t("strong",[a._v("401 Unauthorized")])])]),a._v(" "),t("p",[t("strong",[a._v("Borçlu ÖHS, İstek Başlığı içerisinde BKM tarafından iletilecek olan Authorization  hatalı olmasu durumunda 401 (Yetkisiz) http kodu ile aşağıdaki hata kodunu dönmelidir.")])]),a._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"path"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/odeme-iste-api/ois/s1.0/odeme-iste"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"id"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"ed3fd667-fc58-40ad-a982-e8937faccd15"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"timestamp"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"2023-07-06T11:17:33+03:00"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"httpCode"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("401")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"httpMessage"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Unauthorized"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"moreInformation"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Authorization Invalid"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"moreInformationTr"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Token bilgisi hatalıdır."')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"errorCode"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"TR.OIS.Connection.InvalidToken"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" \n \n\n")])])]),t("p",[t("ins",[t("strong",[a._v("403 Forbidden")])])]),a._v(" "),t("p",[a._v("X-JWS-Signature zorunluluğu olan isteklerde gelmemesi durumunda TR.OIS.Resource.MissingSignature, hatalı gelmesi durumunda TR.OIS.Resource.InvalidSignature hata kodları Borçlu ÖHS tarafından dönülür ve Alacaklı ÖHS işleme devam edemez.")]),a._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"path"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/odeme-iste-api/ois/s1.0/odeme-iste"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"id"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"3e48ea98-f889-48b9-aa6e-28aabc6cfb14"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"timestamp"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"2023-07-06T11:20:05+03:00"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"httpCode"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("403")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"httpMessage"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Forbidden"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"moreInformation"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"X-JWS-Signature header not found in the Recipient request"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"moreInformationTr"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Alacaklı OHS den gelen istekte X-JWS-Signature basligi bulunamadi."')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"errorCode"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"TR.OIS.Resource.MissingSignature"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" \n")])])]),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"path"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/odeme-iste-api/ois/s1.0/odeme-iste"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"id"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"1a36bc78-d381-16a2-aa6e-28bcab3af633"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"timestamp"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"2023-07-05T11:20:05+03:00"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"httpCode"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("403")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"httpMessage"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Forbidden"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"moreInformation"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"X-JWS-Signature header in the Recipient request could not be parsed"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"moreInformationTr"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Alacaklı OHS den gelen istekte X-JWS-Signature basligi okunamadi."')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"errorCode"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"TR.OIS.Resource.InvalidSignature"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" \n")])])]),t("p",[t("ins",[t("strong",[a._v("500 Internal Server Error")])])]),a._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"id"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"1b90c6dc-0277-4755-8b05-9297ddfab743"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"path"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/odeme-iste-api/ois/s1.0/odeme-iste"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"timestamp"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"2023-07-07T11:41:34+03:00"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"httpCode"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("500")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"httpMessage"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Internal Server Error"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"moreInformation"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Unexpected condition was encountered."')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"moreInformationTr"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Beklenmeyen bir durumla karşılaşıldı."')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"errorCode"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"TR.OIS.Server.InternalError"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" \n\n")])])]),t("p",[t("ins",[t("strong",[a._v("503 Service Unavailable")])])]),a._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  \n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"id"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"e76315b7-09f4-4295-b6d8-1f7fec632159"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"path"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/odeme-iste-api/ois/s1.0/odeme-iste"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"timestamp"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"2023-07-07T23:18:56+03:00"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"httpCode"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("503")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"httpMessage"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Service Unavailable"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"moreInformation"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"OHS is currently unavailable"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"moreInformationTr"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"ÖHS şu anda hizmet veremiyor."')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"errorCode"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"TR.OIS.Server.ServiceUnavailable"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("h2",{attrs:{id:"_3-17-sıralı-veri-turleri"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-17-sıralı-veri-turleri"}},[a._v("#")]),a._v(" 3.17. Sıralı Veri Türleri")]),a._v(" "),t("p",[t("strong",[a._v("Tablo 6: Sıralı Veri Türleri")])]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",[t("strong",[a._v("Kod")])]),a._v(" "),t("th",[t("strong",[a._v("Açıklama")])])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("TR.OIS.DataCode.MusteriTip")]),a._v(" "),t("td",[a._v("B: Bireysel "),t("br"),a._v("K: Kurumsal")])]),a._v(" "),t("tr",[t("td",[a._v("TR.OIS.DataCode.KimlikTur")]),a._v(" "),t("td",[a._v("Kod, Tip, Format "),t("br"),a._v("K , TCKN , N11 "),t("br"),a._v("V, VKN, AN10 "),t("br"),a._v("Y , YKN , N11 "),t("br"),a._v("P , PNO , AN7..9")])]),a._v(" "),t("tr",[t("td",[a._v("TR.OIS.DataCode.OdemeAmaci")]),a._v(" "),t("td",[a._v("Ödemenin Amacına yönelik olarak aşağıdaki değerlerden birini alır:"),t("br"),a._v("01: Konut Kirası Ödemesi"),t("br"),a._v("02: İş yeri Kirası Ödemesi"),t("br"),a._v("03: Diğer Kira Ödemesi"),t("br"),a._v("04: E-Ticaret Ödemesi: Elektronik ticaret işlem amaçlı aktarımlar"),t("br"),a._v("05: Çalışan Ödemesi: Maaş, harcırah, prim gibi çalışan ödemeleri"),t("br"),a._v("06: Ticari ödeme: Ticari işletmelerin birbirlerine, kendi hesaplarına veya müşterilerine ödemeleri, borç, ithalat, ihracat, şirket satın alma, vb. kapsamında ödemeler"),t("br"),a._v("07: Bireysel Ödeme: Özel amaçlı (aile bireylerine, hediye, bağış, borç, alışveriş vs.) ödemeler"),t("br"),a._v("08: Yatırım: Mevduat, menkul kıymet, döviz, gayrı menkul, taşıt, varlık alımı, temettü ödeme, tahsilat vb. gibi yatırım amaçlı ödemeler"),t("br"),a._v("09: Finansal: Kredi, depo, repo, türev, finansal varlık alım/satımı vb. ödemeler"),t("br"),a._v("10: Eğitim ödemesi"),t("br"),a._v("11: Aidat ödemesi"),t("br"),a._v('12: Diğer (Diğer seçeneği ÖHS "Havale" süreçleri için eklenmiştir. FAST işlemlerinde "Diğer" ödeme amacı kullanılmamalıdır.)')])]),a._v(" "),t("tr",[t("td",[a._v("TR.OIS.DataCode.AkisTur")]),a._v(" "),t("td",[a._v("01: Kişiden Kişiye Ödemeler "),t("br"),a._v("02: İşyeri(Fiziki/E-Ticaret) "),t("br"),a._v("03: Fatura "),t("br"),a._v("04: Vergi/Harç/Belediye "),t("br"),a._v("05: Kredi"),t("br"),a._v("06: BES")])]),a._v(" "),t("tr",[t("td",[a._v("TR.OIS.DataCode.OHSDurumu")]),a._v(" "),t("td",[a._v("A : Açık. Üretim Ortamında ÖHS’nin aktif bir şekilde hizmet vermesi durumu."),t("br"),a._v(" Y : Yaygınlaştırma. Üretim Ortamında ÖHS’nin kendisi tarafından tanımlanmış kısıtlı müşteriye hizmet vermesi durumu. "),t("br"),a._v("  G : Geçici Hizmet Veremiyor. ÖHS servislerinde teknik bir sorun olması nedeniyle ÖHS’nin hizmet verememesi durumu. "),t("br"),a._v("K: Kapalı. ÖHS’nin hizmet vermeme durumu.")])]),a._v(" "),t("tr",[t("td",[a._v("TR.OIS.DataCode.OdemeIsteDurumu")]),a._v(" "),t("td",[a._v("B: Yanıt Bekleniyor"),t("br"),a._v("K: Kabul Edildi"),t("br"),a._v("G: Ödeme Sistemine İletildi"),t("br"),a._v("O: Ödeme Gerçekleşti"),t("br"),a._v(" I: İptal Edildi")])]),a._v(" "),t("tr",[t("td",[a._v("TR.OIS.DataCode.OdemeIsteIptDtyKod")]),a._v(" "),t("td",[a._v("'01': Borçlu Müşteri Ödeme İsteğini Reddetti"),t("br"),a._v("'02': Borçlu Müşteri Beklenen Sürede Ödeme İsteğine Yanıt Vermedi"),t("br"),a._v("'03': Borçlu ÖHS Fraud Nedeniyle İptal Etti"),t("br"),a._v("'04': Borçlu ÖHS Ödeme Sistemine İletemedi"),t("br"),a._v("'05': Borçlu ÖHS Ödeme İste Yanıt’ını Alacaklı ÖHS’ye İletemedi"),t("br"),a._v("'11': Alacaklı Müşteri Ödeme İste Talebinden Vazgeçti"),t("br"),a._v("'12': Alacaklı ÖHS Fraud Nedeniyle İptal Etti"),t("br"),a._v("'13':  Alacaklı ÖHS Ödeme İste Değerleri Uyuşmaması Nedeniyle İptal Etti"),t("br"),a._v("'21': FAST Sistem Hatası"),t("br"),a._v("'22':  FAST Ödeme İste Bilgileri Doğrulanamadı"),t("br"),a._v("'23':  FAST Ödeme İste Zaman Kontrolleri Doğrulanamadı"),t("br")])]),a._v(" "),t("tr",[t("td",[a._v("TR.OIS.DataCode.EvetHayir")]),a._v(" "),t("td",[a._v("E: Evet "),t("br"),a._v("H: Hayır")])]),a._v(" "),t("tr",[t("td",[a._v("TR.OIS.DataCode.OlayTip")]),a._v(" "),t("td",[a._v("OHS_GUNCELLENDI")])]),a._v(" "),t("tr",[t("td",[a._v("TR.OIS.DataCode.KaynakTip")]),a._v(" "),t("td",[a._v("OHS")])]),a._v(" "),t("tr",[t("td",[a._v("TR.OIS.DataCode.VarYok")]),a._v(" "),t("td",[a._v("0: Kayıt Yok "),t("br"),a._v("1: Kayıt Var")])]),a._v(" "),t("tr",[t("td",[a._v("TR.OIS.DataCode.ZmnAralik")]),a._v(" "),t("td",[a._v("1: 0-1 gün "),t("br"),a._v("2: 2-14 gün "),t("br"),a._v("3: 15-30 gün "),t("br"),a._v("4: 31-90 gün "),t("br"),a._v("5: 91 gün ve üstü")])]),a._v(" "),t("tr",[t("td",[a._v("TR.OIS.DataCode.YasAralik")]),a._v(" "),t("td",[a._v("0:Tüzel/Kurumsal Müşteriler "),t("br"),a._v(" 1: 1-20 yaş "),t("br"),a._v("2: 21-30 yaş "),t("br"),a._v("3: 31-40 yaş "),t("br"),a._v("4: 41-50 yaş "),t("br"),a._v("5: 51 yaş ve üzeri")])]),a._v(" "),t("tr",[t("td",[a._v("TR.OIS.DataCode.KanalBilgisi")]),a._v(" "),t("td",[a._v("M : Mobil "),t("br"),a._v(" W : Web "),t("br"),a._v("A : API")])])])])])}),[],!1,null,null,null);e.default=n.exports}}]);